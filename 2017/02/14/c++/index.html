<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="c++," />





  <link rel="alternate" href="/atom.xml" title="任苹蜻的博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="简介c++的诞生地是贝尔实验室，作者是比亚尼.斯特劳斯特录普博士。
应用场景嵌入式，游戏编程，网络编程，系统编程
特点快：运行速度快
省：节省内存资源
c与c++关系c是c++的一个子集，也就是说将c代码拷贝到c++的编译环境中编译时完全没问题的。
c++是从c的基础发展而来的
c语言是面向过程
c++支持面向过和面向对象
HelloC++123456789#include &amp;lt;iostrea">
<meta property="og:type" content="article">
<meta property="og:title" content="C++">
<meta property="og:url" content="http://i.woblog.cn/2017/02/14/c++/index.html">
<meta property="og:site_name" content="任苹蜻的博客">
<meta property="og:description" content="简介c++的诞生地是贝尔实验室，作者是比亚尼.斯特劳斯特录普博士。
应用场景嵌入式，游戏编程，网络编程，系统编程
特点快：运行速度快
省：节省内存资源
c与c++关系c是c++的一个子集，也就是说将c代码拷贝到c++的编译环境中编译时完全没问题的。
c++是从c的基础发展而来的
c语言是面向过程
c++支持面向过和面向对象
HelloC++123456789#include &amp;lt;iostrea">
<meta property="og:updated_time" content="2017-03-19T14:22:37.664Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++">
<meta name="twitter:description" content="简介c++的诞生地是贝尔实验室，作者是比亚尼.斯特劳斯特录普博士。
应用场景嵌入式，游戏编程，网络编程，系统编程
特点快：运行速度快
省：节省内存资源
c与c++关系c是c++的一个子集，也就是说将c代码拷贝到c++的编译环境中编译时完全没问题的。
c++是从c的基础发展而来的
c语言是面向过程
c++支持面向过和面向对象
HelloC++123456789#include &amp;lt;iostrea">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  <title> C++ | 任苹蜻的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?48746acb55f702790215ece2fb3a3be5";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">任苹蜻的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat fa-fw"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                C++
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-14T11:48:58+00:00" content="2017-02-14">
              2017-02-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/14/c++/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/14/c++/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>c++的诞生地是贝尔实验室，作者是比亚尼.斯特劳斯特录普博士。</p>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>嵌入式，游戏编程，网络编程，系统编程</p>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><p>快：运行速度快</p>
<p>省：节省内存资源</p>
<h2 id="c与c-关系"><a href="#c与c-关系" class="headerlink" title="c与c++关系"></a>c与c++关系</h2><p>c是c++的一个子集，也就是说将c代码拷贝到c++的编译环境中编译时完全没问题的。</p>
<p>c++是从c的基础发展而来的</p>
<p>c语言是面向过程</p>
<p>c++支持面向过和面向对象</p>
<h2 id="HelloC"><a href="#HelloC" class="headerlink" title="HelloC++"></a>HelloC++</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; //包含c++标准输入输出库</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//命名空间</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello c++"</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//输出,并换行</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="新特性"><a href="#新特性" class="headerlink" title="新特性"></a>新特性</h1><h2 id="新增数据类型"><a href="#新增数据类型" class="headerlink" title="新增数据类型"></a>新增数据类型</h2><table>
<thead>
<tr>
<th>语言</th>
<th>逻辑类型</th>
<th>真</th>
<th>假</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>没提供</td>
<td>非0</td>
<td>0</td>
</tr>
<tr>
<td>c++</td>
<td>bool</td>
<td>true</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>有什么好处，当我们使用c语言的时候，就这样使用</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCBool</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</div><div class="line">        <span class="comment">//为真的时候执行</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">//为假执行</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>而在c++中就这样使用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCppBool</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">bool</span> flag= <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (flag) &#123;</div><div class="line">        <span class="comment">//为真的时候执行</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">//为假执行</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="初始化方法"><a href="#初始化方法" class="headerlink" title="初始化方法"></a>初始化方法</h2><h3 id="c语言"><a href="#c语言" class="headerlink" title="c语言"></a>c语言</h3><p>只有一种，叫复制初始化</p>
<p>int x=1024;</p>
<h3 id="c"><a href="#c" class="headerlink" title="c++"></a>c++</h3><p>他提供了两种，一种是复制初始化(和c语言一样)，另一种是直接初始化。</p>
<p>int x(1024);</p>
<h2 id="随用随定义"><a href="#随用随定义" class="headerlink" title="随用随定义"></a>随用随定义</h2><p>C语言：所以变量定义必须位于函数体的最前面</p>
<p>c++:所有变量随用随定义</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCDefinVar</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> v1=<span class="number">3</span>;</div><div class="line">    <span class="keyword">int</span> v2=<span class="number">4</span>;</div><div class="line"></div><div class="line">    v1=v1+<span class="number">2</span>;</div><div class="line">    v2=v2+v1;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCppDefinVar</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> v1=<span class="number">3</span>;</div><div class="line">    v1=v1+<span class="number">2</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> v2=<span class="number">4</span>;</div><div class="line">    v2=v2+v1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h1><p>在c++中scanf用cin代替，printf用cout代替</p>
<h2 id="cout"><a href="#cout" class="headerlink" title="cout"></a>cout</h2><p>cout&lt;&lt;x&lt;&lt;endl;</p>
<p>cout&lt;&lt;”x+y=”&lt;&lt;x+y&lt;&lt;endl;</p>
<p>cout&lt;&lt;x,y,z&lt;&lt;endl; //错误</p>
<h2 id="cin"><a href="#cin" class="headerlink" title="cin"></a>cin</h2><p>cin&gt;&gt;x;</p>
<p>cin&gt;&gt;x&gt;&gt;y;</p>
<h2 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h2><p>不关注暂未符，不关心数据类型，所以不易出现问题。</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//1.提示输入一个整数,并将该整数用8,10,16进制打印</span></div><div class="line">    <span class="comment">//2.提示输入一个布尔值(0,1),并以布尔的方式打印</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入一个整数:"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">0</span>;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;x;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;oct&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;dec&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;hex&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入一个布尔值(0,1):"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">bool</span> y= <span class="literal">false</span>;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;y;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;boolalpha&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><p>划片取名字。</p>
<h2 id="为什么要有名称空间"><a href="#为什么要有名称空间" class="headerlink" title="为什么要有名称空间"></a>为什么要有名称空间</h2><p>防止命名冲突</p>
<h2 id="练习：模拟c公司购买了a-b两家公司的软件"><a href="#练习：模拟c公司购买了a-b两家公司的软件" class="headerlink" title="练习：模拟c公司购买了a,b两家公司的软件"></a>练习：模拟c公司购买了a,b两家公司的软件</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//命名空间</span></div><div class="line"></div><div class="line"><span class="comment">//a公司代码</span></div><div class="line"><span class="keyword">namespace</span> A</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">1</span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"A"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> B</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">2</span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"B"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"2B"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> B;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//使用这两个公司的代码</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;A::x&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="comment">//因为上面使用了命名空间b,所以从这里找</span></div><div class="line">    fun();</div><div class="line">    fun2();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="练习：最大值和最小值"><a href="#练习：最大值和最小值" class="headerlink" title="练习：最大值和最小值"></a>练习：最大值和最小值</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; //包含c++标准输入输出库</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//命名空间</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">namespace</span> CompA&#123;</div><div class="line">    <span class="comment">//定义一个函数,找出整型数组中的最大值,最小值</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getMaxOrMin</span><span class="params">(<span class="keyword">int</span> *arr,<span class="keyword">int</span> count,<span class="keyword">bool</span> isMax)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> temp=arr[<span class="number">0</span>];</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; count; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (isMax) &#123;</div><div class="line">                <span class="keyword">if</span> (temp &lt; arr[i]) &#123;</div><div class="line">                    temp=arr[i];</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (temp &gt; arr[i]) &#123;</div><div class="line">                    temp=arr[i];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> temp;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> arr[]=&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>&#125;;</div><div class="line">    <span class="keyword">bool</span>  isMax= <span class="literal">false</span>;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;isMax;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;CompA::getMaxOrMin(arr,<span class="number">4</span>,isMax)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="c-引用-别名"><a href="#c-引用-别名" class="headerlink" title="c++引用(别名)"></a>c++引用(别名)</h1><p>引用就是变量的别名。不能只有别名。</p>
<h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; //包含c++标准输入输出库</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//命名空间</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line">    <span class="comment">//定义别名,是在变量名前加&amp;</span></div><div class="line">    <span class="keyword">int</span> a=<span class="number">10</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> &amp;b=a;</div><div class="line"></div><div class="line">    b=<span class="number">20</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//20</span></div><div class="line"></div><div class="line">    a=<span class="number">30</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//30</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line">    <span class="keyword">int</span> y;</div><div class="line">&#125;Point;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line">    Point p;</div><div class="line"></div><div class="line">    Point &amp;p1=p;</div><div class="line"></div><div class="line">    p1.x=<span class="number">10</span>;</div><div class="line">    p1.y=<span class="number">20</span>;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;p.x&lt;&lt;<span class="string">","</span>&lt;&lt;p.y&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">int</span> a=<span class="number">3</span>;</div><div class="line">    <span class="keyword">int</span> *p=&amp;a;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> *&amp;q=p;</div><div class="line"></div><div class="line">    *q=<span class="number">5</span>; <span class="comment">//由于q是p的别名,所以*q和*p都是访问的a</span></div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//5</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>使用别名交换两个变量的值，如果是在c中，只能使用指针</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; //包含c++标准输入输出库</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//命名空间</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> &amp;b)</span></span>; <span class="comment">//函数原型声明</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> x=<span class="number">10</span>;</div><div class="line">    <span class="keyword">int</span> y=<span class="number">20</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">","</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//10,20</span></div><div class="line"></div><div class="line">    swap(x,y);</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">","</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//20,10</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> &amp;b)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> c=a;</div><div class="line">    a=b;</div><div class="line">    b=c;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><p>控制变量的值是否可以改变。</p>
<h2 id="基本类型-1"><a href="#基本类型-1" class="headerlink" title="基本类型"></a>基本类型</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> x=<span class="number">3</span>;<span class="comment">//常量，不能改变x的值</span></div></pre></td></tr></table></figure>
<h2 id="指针-1"><a href="#指针-1" class="headerlink" title="指针"></a>指针</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//功能等价</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p =<span class="literal">NULL</span>;</div><div class="line"><span class="keyword">int</span> <span class="keyword">const</span> *p=<span class="literal">NULL</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> * <span class="keyword">const</span> p = <span class="literal">NULL</span>;</div><div class="line"></div><div class="line"><span class="comment">//等价</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> * <span class="keyword">const</span> p=<span class="literal">NULL</span>;</div><div class="line"><span class="keyword">int</span> <span class="keyword">const</span> * <span class="keyword">const</span> p =<span class="literal">NULL</span>;</div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p=&amp;x;</div><div class="line"></div><div class="line"><span class="keyword">int</span> y=<span class="number">10</span>;</div><div class="line">p=&amp;y; <span class="comment">//正确，因为const修饰的是*p，也就是说不能改变*p的值</span></div><div class="line"><span class="comment">//*p=4; //错误</span></div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">int</span> * <span class="keyword">const</span> p=&amp;x;</div><div class="line"></div><div class="line"><span class="keyword">int</span> y=<span class="number">10</span>;</div><div class="line"><span class="comment">//p=&amp;y;//错误，因为const修饰的是p</span></div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> * <span class="keyword">const</span> p=&amp;x;</div><div class="line"><span class="comment">//p=&amp;y; //错误，是因为int *后面的const修饰符</span></div><div class="line"><span class="comment">//*p=4;//错误，是int *前面的修饰符</span></div></pre></td></tr></table></figure>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;y=x;</div><div class="line">x=<span class="number">10</span>;<span class="comment">//正确</span></div><div class="line"><span class="comment">//y=30;//错误，因为const修饰的是y</span></div></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line">x=<span class="number">5</span>; <span class="comment">//错误</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> y=x;</div><div class="line">y=<span class="number">5</span>;<span class="comment">//错误</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> *y=&amp;x;</div><div class="line">*y=<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>,z=<span class="number">4</span>;</div><div class="line"><span class="keyword">int</span> * <span class="keyword">const</span> y=&amp;x;</div><div class="line">y=&amp;z;<span class="comment">//错误</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;y=x;</div><div class="line">y=<span class="number">5</span>;<span class="comment">//错误</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">int</span> *y=&amp;x; <span class="comment">//错误，因为x是不可以，但我们定义的y指针是可变的，编译器报错,这样改const int *y=&amp;x;</span></div><div class="line"></div><div class="line"><span class="comment">//这样没问题，是因为用小权限接收大权限是可以的</span></div><div class="line"><span class="keyword">int</span> x=<span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> *y=&amp;x;</div></pre></td></tr></table></figure>
<h2 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;a, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b)</span></span>&#123;</div><div class="line">    a=<span class="number">10</span>;</div><div class="line">    b=<span class="number">20</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>用const修饰了，里面就不能改变变量(常量)的值了</p>
<h2 id="常对象成员和常成员函数"><a href="#常对象成员和常成员函数" class="headerlink" title="常对象成员和常成员函数"></a>常对象成员和常成员函数</h2><p>这样声明</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Coordinate m_pCoorA;</div><div class="line"></div><div class="line"><span class="comment">//也可以这样</span></div><div class="line">Coordinate <span class="keyword">const</span> m_pCoorA;</div></pre></td></tr></table></figure>
<p>改进上面的例子，将Line其中的一个成员改为常成员，并添加一些常成员函数。</p>
<p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span>  Coordinate&#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</div><div class="line">    ~Coordinate();</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">//因为该类，有可能在其他类声明了常成员，所以要定义常成员函数，不然无法编译，也就是说在该函数中不能改变常成员的值</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Coordinate::Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</div><div class="line">    m_iX=x;</div><div class="line">    m_iY=y;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Coordinate(int x,int y)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Coordinate::~Coordinate()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Coordinate"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getX() <span class="keyword">const</span>&#123;</div><div class="line">    <span class="keyword">return</span> m_iX;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getY() <span class="keyword">const</span>&#123;</div><div class="line">    <span class="keyword">return</span> m_iY;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Line.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Line_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Line_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Line &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2);</div><div class="line">    ~Line();</div><div class="line">    </div><div class="line">    <span class="comment">//这两个函数重载</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">const</span> Coordinate m_pCoorA;</div><div class="line">    Coordinate m_pCoorB;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Line_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Line.cpp</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line"></div><div class="line">#include &quot;Line.hpp&quot;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">Line::Line(int x1,int y1,int x2,int y2):m_pCoorA(x1,y1),m_pCoorB(x2,y2)&#123;</div><div class="line">    cout&lt;&lt;&quot;Line()&quot;&lt;&lt;endl;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Line::~Line()&#123;</div><div class="line">    </div><div class="line">    cout&lt;&lt;&quot;~Line()&quot;&lt;&lt;endl;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Line::printInfo()&#123;</div><div class="line">    cout&lt;&lt;&quot;printinfo()&quot;&lt;&lt;endl;</div><div class="line">    cout&lt;&lt;m_pCoorA.getX()&lt;&lt;&quot;,&quot;&lt;&lt;m_pCoorA.getY()&lt;&lt;endl;</div><div class="line">    cout&lt;&lt;m_pCoorB.getX()&lt;&lt;&quot;,&quot;&lt;&lt;m_pCoorB.getY()&lt;&lt;endl;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Line::printInfo() const&#123;</div><div class="line">    cout&lt;&lt;&quot;printinfo() const&quot;&lt;&lt;endl;</div><div class="line">    cout&lt;&lt;m_pCoorA.getX()&lt;&lt;&quot;,&quot;&lt;&lt;m_pCoorA.getY()&lt;&lt;endl;</div><div class="line">    cout&lt;&lt;m_pCoorB.getX()&lt;&lt;&quot;,&quot;&lt;&lt;m_pCoorB.getY()&lt;&lt;endl;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//这样就调用到了const函数</span></div><div class="line"><span class="function"><span class="keyword">const</span> Line <span class="title">line</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span></span>;</div><div class="line">line.printInfo();</div></pre></td></tr></table></figure>
<h2 id="对象常指针和对象常引用"><a href="#对象常指针和对象常引用" class="headerlink" title="对象常指针和对象常引用"></a>对象常指针和对象常引用</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">Line <span class="title">line</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> Line &amp;l1=line; <span class="comment">//常对象引用</span></div><div class="line"><span class="keyword">const</span> Line *l2=&amp;line; <span class="comment">//常对象指针</span></div></pre></td></tr></table></figure>
<p>综合案例</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">class</span> Coordinate</div><div class="line">&#123;</div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">	Coordinate(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</div><div class="line">	&#123;</div><div class="line">		<span class="comment">// 设置X,Y的坐标</span></div><div class="line">		m_iX=x;</div><div class="line">        m_iY=y;</div><div class="line">	&#125;</div><div class="line">    <span class="comment">// 实现常成员函数</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> <span class="keyword">const</span></span></div><div class="line">	&#123;</div><div class="line">	    <span class="built_in">cout</span>&lt;&lt;<span class="string">"("</span>&lt;&lt;m_iX&lt;&lt;<span class="string">","</span>&lt;&lt;m_iY&lt;&lt;<span class="string">")"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="keyword">int</span> m_iX;</div><div class="line">	<span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="function"><span class="keyword">const</span> Coordinate <span class="title">coor</span><span class="params">(<span class="number">3</span>, <span class="number">5</span>)</span></span>;</div><div class="line"></div><div class="line">	<span class="comment">// 创建常指针p</span></div><div class="line">	<span class="keyword">const</span> Coordinate *p=&amp;coor;</div><div class="line">    <span class="comment">// 创建常引用c</span></div><div class="line">    <span class="keyword">const</span> Coordinate &amp;c=coor;</div><div class="line">	</div><div class="line">	coor.printInfo();</div><div class="line">	p-&gt;printInfo();</div><div class="line">	c.printInfo();  </div><div class="line">	</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(3,5)</div><div class="line">(3,5)</div><div class="line">(3,5)</div></pre></td></tr></table></figure>
<h1 id="函数新特性"><a href="#函数新特性" class="headerlink" title="函数新特性"></a>函数新特性</h1><h2 id="函数参数默认值"><a href="#函数参数默认值" class="headerlink" title="函数参数默认值"></a>函数参数默认值</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//声明的时候写默认值</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j=<span class="number">5</span>,<span class="keyword">int</span> k=<span class="number">1</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="comment">//定义的时候不写,因为写了,有些编译器报错</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> i=<span class="number">10</span>,<span class="keyword">int</span> j=<span class="number">20</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    fun();</div><div class="line">    fun(<span class="number">100</span>);</div><div class="line">    fun(<span class="number">200</span>,<span class="number">300</span>);</div><div class="line"></div><div class="line"><span class="comment">//    10,20</span></div><div class="line"><span class="comment">//    100,20</span></div><div class="line"><span class="comment">//    200,300</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">","</span>&lt;&lt;j&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><p>在相同作用域中，函数名相同，参数个数或类型不一样，叫重载。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//生成的函数名为getMax_int_int</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMax</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//生成的函数名为getMax_double_double</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMax</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0.0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h2><p>普通函数执行流程：</p>
<p>main函数-调用fun方法的过程：</p>
<p>先找到fun函数的入口地址，然后准备参数，跳转到改函数地址，开始执行，执行完了以后处理返回值，跳转到main函数的位置，继续执行main函数。</p>
<p>内联函数：</p>
<p>编译时将函数体代码和实参代替函数的调用语句。</p>
<p>实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</div><div class="line">        <span class="keyword">return</span> a;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> b;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">10</span>;</div><div class="line">    <span class="keyword">int</span> y=<span class="number">20</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> m=max(x,y);</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>相当于</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> x=<span class="number">10</span>;</div><div class="line">    <span class="keyword">int</span> y=<span class="number">20</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> m=<span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="comment">//max函数的展开代码</span></div><div class="line">    <span class="keyword">int</span> a=x;</div><div class="line">    <span class="keyword">int</span> b=y;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</div><div class="line">        m= a;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        m= b;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>问：为什么所以函数不都使用成内联函数呢？</p>
<p>1.内联是编译器决定的，也就是说你全加上，有可能他没有编译为内联</p>
<p>2.逻辑简单，调用频繁的建议使用</p>
<p>3.如果内联函数写成了递归，就无法成为内联函数了</p>
<h1 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h1><p>内存的本质是：资源</p>
<p>谁掌控内存资源：操作系统</p>
<p>我们能做什么：申请/归还</p>
<h2 id="申请和是否内存运算符"><a href="#申请和是否内存运算符" class="headerlink" title="申请和是否内存运算符"></a>申请和是否内存运算符</h2><p>申请内存:new</p>
<p>释放内存：delete</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//int *p=new int(10);</span></div><div class="line"><span class="comment">//还可以这样</span></div><div class="line"><span class="keyword">int</span> *p=<span class="keyword">new</span> <span class="keyword">int</span>;</div><div class="line"><span class="keyword">if</span> (<span class="literal">NULL</span>!=p) &#123;</div><div class="line">    *p=<span class="number">20</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;*p&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">delete</span> p;</div><div class="line">    p=<span class="literal">NULL</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//块内存的申请和释放</span></div><div class="line"><span class="keyword">int</span> *p=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</div><div class="line"><span class="keyword">if</span> (<span class="literal">NULL</span>!=p) &#123;</div><div class="line">    p[<span class="number">0</span>]=<span class="number">20</span>;</div><div class="line">    p[<span class="number">1</span>]=<span class="number">10</span>;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;p[<span class="number">0</span>]&lt;&lt;<span class="string">","</span>&lt;&lt;p[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    <span class="keyword">delete</span> []p;</div><div class="line">    p=<span class="literal">NULL</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="实例：拷贝字符串"><a href="#实例：拷贝字符串" class="headerlink" title="实例：拷贝字符串"></a>实例：拷贝字符串</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//在堆中申请100个char类型的内存</span></div><div class="line">    <span class="keyword">char</span> *str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">100</span>];</div><div class="line">    <span class="comment">//拷贝Hello C++字符串到分配的堆中的内存中</span></div><div class="line">    <span class="built_in">strcpy</span>(str, <span class="string">"Hello C++"</span>);</div><div class="line">    <span class="comment">//打印字符串</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="comment">//释放内存</span></div><div class="line">    <span class="keyword">delete</span> []str;</div><div class="line">    str=<span class="literal">NULL</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>类</p>
<p>定义类</p>
<pre><code>class Point {

public:
    int x;
    int y;
    void printX(){
        cout&lt;&lt;x&lt;&lt;endl;
    }
    void printY(){
        cout&lt;&lt;y&lt;&lt;endl;
    }
};
</code></pre><p>实例化对象</p>
<p>在栈上创建对象:</p>
<pre><code>//通过栈的方式实例化对象
Point point;
point.x=10;
point.y=20;

point.printX();
point.printY();
</code></pre><p>在堆上创建对象：</p>
<pre><code>Point *point=new Point();
if (NULL==point) {
    //实例化对象失败
    return 0;
}

point-&gt;x=100;
point-&gt;y=200;
point-&gt;printX();
point-&gt;printY();
</code></pre><p>字符串</p>
<p>初始化方式</p>
<pre><code>string s1;
string s2(&quot;abc&quot;);
string s3(s2);
string s4(3,&apos;c&apos;);

cout&lt;&lt;s1&lt;&lt;endl;
cout&lt;&lt;s2&lt;&lt;endl;
cout&lt;&lt;s3&lt;&lt;endl;
cout&lt;&lt;s4&lt;&lt;endl;
</code></pre><p>常用函数</p>
<p>  方法名        作用<br>  s.empty    字符串为空，返回true，否则false<br>  s.size     字符的个数<br>  s[n]       返回s中n位置的字符<br>  s1+s2      连接字符串<br>  s1=s2      将s1的内容替换为s2的副本<br>  v1==v2     内容相等，返回true<br>  v1!=v2     内容不相等，返回true        </p>
<pre><code>string s1=&quot;hello&quot;;
string s2(&quot;world&quot;);
string s3=s1+s2;
string s4=&quot;hello&quot; +s2;
string s5=&quot;hello&quot;+s2+&quot;world&quot;;

//    string s6=&quot;hello&quot;+&quot;world&quot;; //这种方式错误，只有一端是一个变量才可以，而java中则可以
</code></pre><p>实例：读取用户姓名</p>
<pre><code>cout&lt;&lt;&quot;请输入用户名：&quot;&lt;&lt;endl;
string name;
getline(cin, name);

cout&lt;&lt;name&lt;&lt;endl;

if (name.empty()) {
    cout&lt;&lt;&quot;输入的姓名不能为空&quot;&lt;&lt;endl;
    return 0;
}

cout&lt;&lt;&quot;Hello &quot;+name&lt;&lt;endl;
cout&lt;&lt;&quot;你的名字长度：&quot;&lt;&lt;name.size()&lt;&lt;endl;
cout&lt;&lt;&quot;你的名字首字母是：&quot;&lt;&lt;name[0]&lt;&lt;endl;

if (&quot;admin&quot;==name) {
    cout&lt;&lt;&quot;你是一个管理员&quot;&lt;&lt;endl;
}
</code></pre><p>封装</p>
<p>他的好处是保护数据不被恶意篡改。下面模拟一个用户的实例化，然后打印用户信息：</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace std;

class Student {


public:
    void setName(string _name){
        m_strName=_name;
    }
    string getName(){
        return m_strName;
    }
    void setGender(string _gender){
        m_strGender=_gender;
    }
    string getGender(){
        return m_strGender;
    }
    int getScore(){
        return m_iScore;
    }

    void initScore(){
        m_iScore=0;
    }

    void study(int _score){
        m_iScore+=_score;
    }

private:
    string m_strName;
    string m_strGender;
    int m_iScore;
};

int main(){
    Student stu;

    stu.initScore();
    stu.setName(&quot;张三&quot;);
    stu.setGender(&quot;男&quot;);
    stu.study(5);
    stu.study(3);

    cout&lt;&lt;stu.getName()&lt;&lt;&quot; &quot;&lt;&lt;stu.getGender()&lt;&lt;&quot; &quot; &lt;&lt;stu.getScore()&lt;&lt;endl;


    return 0;
}
</code></pre><p>类外定义</p>
<p>一般情况下，我们将类的声明定义在一个文件：</p>
<p>Student.hpp</p>
<pre><code>#ifndef Student_hpp
#define Student_hpp

#include &lt;stdio.h&gt;
#include &lt;string&gt;

using namespace std;

//定义类
class Student {


public:
    void setName(string _name);
    string getName();
    void setGender(string _gender);
    string getGender();
    void setAge(int _age);
    int getAge();
    void teach();
private:
    string m_strName;
    string m_strGedner;
    int m_iAge;
};

#endif /* Student_hpp */
</code></pre><p>然后在另一个文件实现：</p>
<p>Student.cpp</p>
<pre><code>#include &lt;iostream&gt;

#include &quot;Student.hpp&quot;
</code></pre><p>​<br>​<br>    //实现类<br>    void Student::setName(string _name){<br>        m_strName=_name;<br>    }<br>    string Student::getName(){<br>        return m_strName;<br>    }<br>    void Student::setGender(string _gender){<br>        m_strGedner=_gender;<br>    }<br>    string Student::getGender(){<br>        return m_strGedner;<br>    }<br>    void Student::setAge(int _age){<br>        m_iAge=_age;<br>    }<br>    int Student::getAge(){<br>        return m_iAge;<br>    }<br>    void Student::teach(){<br>        cout&lt;&lt;”现在上课了…”&lt;&lt;endl;<br>    }</p>
<p>内存分区</p>
<p>栈区：int x=0；int *p=NULL;</p>
<p>堆区：int *p=new int[20];</p>
<p>全局区：存储全局变量以静态变量</p>
<p>常量区：string str=”hello”;</p>
<p>代码区：存储逻辑代码的二进制</p>
<p>构造函数</p>
<p>Teacher.hpp</p>
<p>在头文件里面定义构造函数</p>
<pre><code>#ifndef Teacher_hpp
#define Teacher_hpp

#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace std;

class Teacher {


public:
    //构造函数
    Teacher();
    Teacher(string name,int age=20);

    //成员函数
    void setName(string _name);
    string getName();
    void setAge(int _age);
    int getAge();
private:
    string m_strName;
    int m_iAge;

};

#endif /* Teacher_hpp */
</code></pre><p>在实现文件里面实现构造函数：</p>
<pre><code>#include &quot;Teacher.hpp&quot;
</code></pre><p>​<br>    Teacher::Teacher(){<br>        m_strName=”jack”;<br>        m_iAge=30;<br>        cout&lt;&lt;”Teacher()”&lt;&lt;endl;<br>    }<br>    Teacher::Teacher(string name,int age){<br>        m_strName=name;<br>        m_iAge=age;<br>        cout&lt;&lt;”Teacher(string name,int age)”&lt;&lt;endl;<br>    }</p>
<pre><code>void Teacher::setName(string _name){
    m_strName=_name;
}
string Teacher::getName(){
    return m_strName;
}
void Teacher::setAge(int _age){
    m_iAge=_age;
}
int Teacher::getAge(){
    return m_iAge;
}
</code></pre><p>然后在实现文件里面就可以使用：</p>
<pre><code>#include &quot;Teacher.hpp&quot;

int main(){

    Teacher t1;

    Teacher t2(&quot;zhangsan&quot;,10);

    Teacher t3(&quot;lisi&quot;);

    cout&lt;&lt;t1.getName()&lt;&lt;&quot; &quot;&lt;&lt;t1.getAge()&lt;&lt;endl;
    cout&lt;&lt;t2.getName()&lt;&lt;&quot; &quot;&lt;&lt;t2.getAge()&lt;&lt;endl;
    cout&lt;&lt;t3.getName()&lt;&lt;&quot; &quot;&lt;&lt;t3.getAge()&lt;&lt;endl;

    return 0;
}
</code></pre><p>构造函数初始化列表</p>
<p>常量必须用初始化列表初始化。</p>
<p>Teacher.hpp</p>
<pre><code>#ifndef Teacher_hpp
#define Teacher_hpp

#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace std;

class Teacher {


public:
    //构造函数
    Teacher(string name=&quot;jack&quot;,int age=20,int max=100);

    //成员函数
    void setName(string _name);
    string getName();
    void setAge(int _age);
    int getAge();
private:
    string m_strName;
    int m_iAge;
    const int m_iMax; //表示这个老师能带多少个学生，是一个常量只能初始化一次
};

#endif /* Teacher_hpp */
</code></pre><p>Teacher.cpp</p>
<pre><code>#include &quot;Teacher.hpp&quot;
</code></pre><p>​<br>    Teacher::Teacher(string name,int age,int max):m_strName(name),m_iAge(age),m_iMax(max){<br>        //这里使用初始化列表<br>        cout&lt;&lt;”Teacher(string name,int age)”&lt;&lt;endl;<br>    }</p>
<pre><code>void Teacher::setName(string _name){
    m_strName=_name;
}
string Teacher::getName(){
    return m_strName;
}
void Teacher::setAge(int _age){
    m_iAge=_age;
}
int Teacher::getAge(){
    return m_iAge;
}
</code></pre><p>main.cpp</p>
<pre><code>Teacher t1;

Teacher t2(&quot;zhangsan&quot;,10);

Teacher t3(&quot;zhangsan&quot;,150);
</code></pre><p>​<br>    cout&lt;&lt;t1.getName()&lt;&lt;” “&lt;&lt;t1.getAge()&lt;&lt;endl;<br>    cout&lt;&lt;t2.getName()&lt;&lt;” “&lt;&lt;t2.getAge()&lt;&lt;endl;<br>    cout&lt;&lt;t3.getName()&lt;&lt;” “&lt;&lt;t3.getAge()&lt;&lt;endl;</p>
<p>拷贝构造函数</p>
<p>如果没有定义，则系统默认生成一个。当采用直接初始化(赋值)或复制初始化时系统将自动调用，还有就是参数传递也会调用。</p>
<p>Teacher.hpp</p>
<pre><code>#ifndef Teacher_hpp
#define Teacher_hpp

#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace std;

class Teacher {


public:
    //构造函数
    Teacher(string name=&quot;jack&quot;,int age=20);
    //拷贝构造函数
    Teacher(const Teacher &amp; tea);

    //成员函数
    void setName(string _name);
    string getName();
    void setAge(int _age);
    int getAge();
private:
    string m_strName;
    int m_iAge;

};

#endif /* Teacher_hpp */
</code></pre><p>Teacher.cpp</p>
<pre><code>#include &quot;Teacher.hpp&quot;
</code></pre><p>​<br>    Teacher::Teacher(string name,int age):m_strName(name),m_iAge(age){<br>        //这里使用初始化列表<br>        cout&lt;&lt;”Teacher(string name,int age)”&lt;&lt;endl;<br>    }</p>
<pre><code>Teacher::Teacher(const Teacher &amp; tea){
    cout&lt;&lt;&quot;Teacher(const Teacher &amp; tea)&quot;&lt;&lt;endl;
}

void Teacher::setName(string _name){
    m_strName=_name;
}
string Teacher::getName(){
    return m_strName;
}
void Teacher::setAge(int _age){
    m_iAge=_age;
}
int Teacher::getAge(){
    return m_iAge;
}
</code></pre><p>main.cpp</p>
<pre><code>Teacher t1;
</code></pre><p>​<br>    Teacher t2=t1;//会调用拷贝构造函数<br>    Teacher t3(t1);//会调用拷贝构造函数</p>
<pre><code>test(t1);
</code></pre><p>test是一个函数</p>
<pre><code>void test(Teacher t){
    t.setName(&quot;a&quot;);
    cout&lt;&lt;t.getName()&lt;&lt;endl;
}
</code></pre><p>析构函数</p>
<p>1.没有定义则系统自动生成。</p>
<p>2.对象销毁时自动调用，目的是归还资源。</p>
<p>3.析构函数，没有返回值，没有参数，不能重载。</p>
<p>Teacher.hpp</p>
<pre><code>#ifndef Teacher_hpp
#define Teacher_hpp

#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace std;

class Teacher {


public:
    //构造函数
    Teacher(string name=&quot;jack&quot;,int age=20);
    //拷贝构造函数
    Teacher(const Teacher &amp; tea);

    //析构函数
    ~Teacher();

    //成员函数
    void setName(string _name);
    string getName();
    void setAge(int _age);
    int getAge();
private:
    string m_strName;
    int m_iAge;

};

#endif /* Teacher_hpp */
</code></pre><p>然后实现析构函数</p>
<pre><code>#include &quot;Teacher.hpp&quot;
</code></pre><p>​<br>    Teacher::Teacher(string name,int age):m_strName(name),m_iAge(age){<br>        //这里使用初始化列表<br>        cout&lt;&lt;”Teacher(string name,int age)”&lt;&lt;endl;<br>    }</p>
<pre><code>Teacher::Teacher(const Teacher &amp; tea){
    cout&lt;&lt;&quot;Teacher(const Teacher &amp; tea)&quot;&lt;&lt;endl;
}

Teacher::~Teacher(){
    cout&lt;&lt;&quot;~Teacher()&quot;&lt;&lt;endl;
}

void Teacher::setName(string _name){
    m_strName=_name;
}
string Teacher::getName(){
    return m_strName;
}
void Teacher::setAge(int _age){
    m_iAge=_age;
}
int Teacher::getAge(){
    return m_iAge;
}
</code></pre><p>最后测试是否调用了析构函数</p>
<p>main.cpp</p>
<pre><code>Teacher t1; //这样方式声明的，会自动调用析构函数
Teacher t2(t1); //这样方式声明的，会自动调用析构函数

Teacher *t3 = new Teacher();
delete t3; //在堆上创建的对象，必须手动调用
</code></pre><h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line">    <span class="keyword">int</span> y;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printX</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printY</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="实例化对象"><a href="#实例化对象" class="headerlink" title="实例化对象"></a>实例化对象</h2><p>在栈上创建对象:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//通过栈的方式实例化对象</span></div><div class="line">Point point;</div><div class="line">point.x=<span class="number">10</span>;</div><div class="line">point.y=<span class="number">20</span>;</div><div class="line"></div><div class="line">point.printX();</div><div class="line">point.printY();</div></pre></td></tr></table></figure>
<p>在堆上创建对象：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Point *point=<span class="keyword">new</span> Point();</div><div class="line"><span class="keyword">if</span> (<span class="literal">NULL</span>==point) &#123;</div><div class="line">    <span class="comment">//实例化对象失败</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">point-&gt;x=<span class="number">100</span>;</div><div class="line">point-&gt;y=<span class="number">200</span>;</div><div class="line">point-&gt;printX();</div><div class="line">point-&gt;printY();</div></pre></td></tr></table></figure>
<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="初始化方式"><a href="#初始化方式" class="headerlink" title="初始化方式"></a>初始化方式</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">string</span> s1;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s2</span><span class="params">(<span class="string">"abc"</span>)</span></span>;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s3</span><span class="params">(s2)</span></span>;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s4</span><span class="params">(<span class="number">3</span>,<span class="string">'c'</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;s1&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;s2&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;s3&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;s4&lt;&lt;<span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
<h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>s.empty</td>
<td>字符串为空，返回true，否则false</td>
</tr>
<tr>
<td>s.size</td>
<td>字符的个数</td>
</tr>
<tr>
<td>s[n]</td>
<td>返回s中n位置的字符</td>
</tr>
<tr>
<td>s1+s2</td>
<td>连接字符串</td>
</tr>
<tr>
<td>s1=s2</td>
<td>将s1的内容替换为s2的副本</td>
</tr>
<tr>
<td>v1==v2</td>
<td>内容相等，返回true</td>
</tr>
<tr>
<td>v1!=v2</td>
<td>内容不相等，返回true</td>
</tr>
</tbody>
</table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">string</span> s1=<span class="string">"hello"</span>;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s2</span><span class="params">(<span class="string">"world"</span>)</span></span>;</div><div class="line"><span class="built_in">string</span> s3=s1+s2;</div><div class="line"><span class="built_in">string</span> s4=<span class="string">"hello"</span> +s2;</div><div class="line"><span class="built_in">string</span> s5=<span class="string">"hello"</span>+s2+<span class="string">"world"</span>;</div><div class="line"></div><div class="line"><span class="comment">//    string s6="hello"+"world"; //这种方式错误，只有一端是一个变量才可以，而java中则可以</span></div></pre></td></tr></table></figure>
<h2 id="实例：读取用户姓名"><a href="#实例：读取用户姓名" class="headerlink" title="实例：读取用户姓名"></a>实例：读取用户姓名</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入用户名："</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">string</span> name;</div><div class="line">getline(<span class="built_in">cin</span>, name);</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;name&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (name.empty()) &#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输入的姓名不能为空"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Hello "</span>+name&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"你的名字长度："</span>&lt;&lt;name.size()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"你的名字首字母是："</span>&lt;&lt;name[<span class="number">0</span>]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="string">"admin"</span>==name) &#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"你是一个管理员"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h1><p>他的好处是保护数据不被恶意篡改。下面模拟一个用户的实例化，然后打印用户信息：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Student &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>&#123;</div><div class="line">        m_strName=_name;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> m_strName;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setGender</span><span class="params">(<span class="built_in">string</span> _gender)</span></span>&#123;</div><div class="line">        m_strGender=_gender;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getGender</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> m_strGender;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getScore</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> m_iScore;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initScore</span><span class="params">()</span></span>&#123;</div><div class="line">        m_iScore=<span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">study</span><span class="params">(<span class="keyword">int</span> _score)</span></span>&#123;</div><div class="line">        m_iScore+=_score;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="built_in">string</span> m_strGender;</div><div class="line">    <span class="keyword">int</span> m_iScore;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    Student stu;</div><div class="line">    </div><div class="line">    stu.initScore();</div><div class="line">    stu.setName(<span class="string">"张三"</span>);</div><div class="line">    stu.setGender(<span class="string">"男"</span>);</div><div class="line">    stu.study(<span class="number">5</span>);</div><div class="line">    stu.study(<span class="number">3</span>);</div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;stu.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;stu.getGender()&lt;&lt;<span class="string">" "</span> &lt;&lt;stu.getScore()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="类外定义"><a href="#类外定义" class="headerlink" title="类外定义"></a>类外定义</h1><p>一般情况下，我们将类的声明定义在一个文件：</p>
<p>Student.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Student_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Student_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//定义类</span></div><div class="line"><span class="keyword">class</span> Student &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setGender</span><span class="params">(<span class="built_in">string</span> _gender)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getGender</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> _age)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">teach</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="built_in">string</span> m_strGedner;</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Student_hpp */</span></span></div></pre></td></tr></table></figure>
<p>然后在另一个文件实现：</p>
<p>Student.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Student.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//实现类</span></div><div class="line"><span class="keyword">void</span> Student::setName(<span class="built_in">string</span> _name)&#123;</div><div class="line">    m_strName=_name;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Student::getName()&#123;</div><div class="line">    <span class="keyword">return</span> m_strName;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Student::setGender(<span class="built_in">string</span> _gender)&#123;</div><div class="line">    m_strGedner=_gender;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Student::getGender()&#123;</div><div class="line">    <span class="keyword">return</span> m_strGedner;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Student::setAge(<span class="keyword">int</span> _age)&#123;</div><div class="line">    m_iAge=_age;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> Student::getAge()&#123;</div><div class="line">    <span class="keyword">return</span> m_iAge;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Student::teach()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"现在上课了..."</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="内存分区"><a href="#内存分区" class="headerlink" title="内存分区"></a>内存分区</h1><p>栈区：int x=0；int *p=NULL;</p>
<p>堆区：int *p=new int[20];</p>
<p>全局区：存储全局变量以静态变量</p>
<p>常量区：string str=”hello”;</p>
<p>代码区：存储逻辑代码的二进制</p>
<h1 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h1><p>Teacher.hpp</p>
<p>在头文件里面定义构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Teacher_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Teacher_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Teacher &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//构造函数</span></div><div class="line">    Teacher();</div><div class="line">    Teacher(<span class="built_in">string</span> name,<span class="keyword">int</span> age=<span class="number">20</span>);</div><div class="line">    </div><div class="line">    <span class="comment">//成员函数</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> _age)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Teacher_hpp */</span></span></div></pre></td></tr></table></figure>
<p>在实现文件里面实现构造函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Teacher.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line">Teacher::Teacher()&#123;</div><div class="line">    m_strName=<span class="string">"jack"</span>;</div><div class="line">    m_iAge=<span class="number">30</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line">Teacher::Teacher(<span class="built_in">string</span> name,<span class="keyword">int</span> age)&#123;</div><div class="line">    m_strName=name;</div><div class="line">    m_iAge=age;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(string name,int age)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Teacher::setName(<span class="built_in">string</span> _name)&#123;</div><div class="line">    m_strName=_name;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Teacher::getName()&#123;</div><div class="line">    <span class="keyword">return</span> m_strName;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Teacher::setAge(<span class="keyword">int</span> _age)&#123;</div><div class="line">    m_iAge=_age;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> Teacher::getAge()&#123;</div><div class="line">    <span class="keyword">return</span> m_iAge;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后在实现文件里面就可以使用：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Teacher.hpp"</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    </div><div class="line">    Teacher t1;</div><div class="line">    </div><div class="line">    <span class="function">Teacher <span class="title">t2</span><span class="params">(<span class="string">"zhangsan"</span>,<span class="number">10</span>)</span></span>;</div><div class="line">    </div><div class="line">    <span class="function">Teacher <span class="title">t3</span><span class="params">(<span class="string">"lisi"</span>)</span></span>;</div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t1.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t1.getAge()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t2.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t2.getAge()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t3.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t3.getAge()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="构造函数初始化列表"><a href="#构造函数初始化列表" class="headerlink" title="构造函数初始化列表"></a>构造函数初始化列表</h2><p>常量必须用初始化列表初始化。</p>
<p>Teacher.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Teacher_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Teacher_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Teacher &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//构造函数</span></div><div class="line">    Teacher(<span class="built_in">string</span> name=<span class="string">"jack"</span>,<span class="keyword">int</span> age=<span class="number">20</span>,<span class="keyword">int</span> max=<span class="number">100</span>);</div><div class="line">    </div><div class="line">    <span class="comment">//成员函数</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> _age)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_iMax; <span class="comment">//表示这个老师能带多少个学生，是一个常量只能初始化一次</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Teacher_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Teacher.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Teacher.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line">Teacher::Teacher(<span class="built_in">string</span> name,<span class="keyword">int</span> age,<span class="keyword">int</span> max):m_strName(name),m_iAge(age),m_iMax(max)&#123;</div><div class="line">    <span class="comment">//这里使用初始化列表</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(string name,int age)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Teacher::setName(<span class="built_in">string</span> _name)&#123;</div><div class="line">    m_strName=_name;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Teacher::getName()&#123;</div><div class="line">    <span class="keyword">return</span> m_strName;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Teacher::setAge(<span class="keyword">int</span> _age)&#123;</div><div class="line">    m_iAge=_age;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> Teacher::getAge()&#123;</div><div class="line">    <span class="keyword">return</span> m_iAge;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>main.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Teacher t1;</div><div class="line"></div><div class="line"><span class="function">Teacher <span class="title">t2</span><span class="params">(<span class="string">"zhangsan"</span>,<span class="number">10</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="function">Teacher <span class="title">t3</span><span class="params">(<span class="string">"zhangsan"</span>,<span class="number">150</span>)</span></span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;t1.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t1.getAge()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;t2.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t2.getAge()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;t3.getName()&lt;&lt;<span class="string">" "</span>&lt;&lt;t3.getAge()&lt;&lt;<span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
<h2 id="拷贝构造函数"><a href="#拷贝构造函数" class="headerlink" title="拷贝构造函数"></a>拷贝构造函数</h2><p>如果没有定义，则系统默认生成一个。当采用直接初始化(赋值)或复制初始化时系统将自动调用，还有就是参数传递也会调用。</p>
<p>Teacher.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Teacher_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Teacher_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Teacher &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//构造函数</span></div><div class="line">    Teacher(<span class="built_in">string</span> name=<span class="string">"jack"</span>,<span class="keyword">int</span> age=<span class="number">20</span>);</div><div class="line">    <span class="comment">//拷贝构造函数</span></div><div class="line">    Teacher(<span class="keyword">const</span> Teacher &amp; tea);</div><div class="line">    </div><div class="line">    <span class="comment">//成员函数</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> _age)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line">   </div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Teacher_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Teacher.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Teacher.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line">Teacher::Teacher(<span class="built_in">string</span> name,<span class="keyword">int</span> age):m_strName(name),m_iAge(age)&#123;</div><div class="line">    <span class="comment">//这里使用初始化列表</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(string name,int age)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Teacher::Teacher(<span class="keyword">const</span> Teacher &amp; tea)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(const Teacher &amp; tea)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Teacher::setName(<span class="built_in">string</span> _name)&#123;</div><div class="line">    m_strName=_name;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Teacher::getName()&#123;</div><div class="line">    <span class="keyword">return</span> m_strName;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Teacher::setAge(<span class="keyword">int</span> _age)&#123;</div><div class="line">    m_iAge=_age;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> Teacher::getAge()&#123;</div><div class="line">    <span class="keyword">return</span> m_iAge;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>main.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Teacher t1;</div><div class="line"></div><div class="line"></div><div class="line">Teacher t2=t1;<span class="comment">//会调用拷贝构造函数</span></div><div class="line"><span class="function">Teacher <span class="title">t3</span><span class="params">(t1)</span></span>;<span class="comment">//会调用拷贝构造函数</span></div><div class="line"></div><div class="line">test(t1);</div></pre></td></tr></table></figure>
<p>test是一个函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(Teacher t)</span></span>&#123;</div><div class="line">    t.setName(<span class="string">"a"</span>);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t.getName()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>定义一个Array类，数据成员为m_iCount，成员函数包括数据封装函数，构造函数，拷贝构造函数和析构函数。</p>
<p>Array.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Array_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Array_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Array &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Array();</div><div class="line">    Array(<span class="keyword">const</span> Array &amp;arr);</div><div class="line">    ~Array();</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setCount</span><span class="params">(<span class="keyword">int</span> count)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iCount;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Array_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Array.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Array.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Array::Array()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Array"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Array::Array(<span class="keyword">const</span> Array &amp;arr)&#123;</div><div class="line">    <span class="comment">//浅拷贝</span></div><div class="line">    m_iCount=arr.m_iCount;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Array &amp;"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Array::~Array()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Array"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Array::setCount(<span class="keyword">int</span> count)&#123;</div><div class="line">    m_iCount=count;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Array::getCount()&#123;</div><div class="line">    <span class="keyword">return</span> m_iCount;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Array arr1;</div><div class="line">arr1.setCount(<span class="number">5</span>);</div><div class="line"></div><div class="line"><span class="function">Array <span class="title">arr2</span><span class="params">(arr1)</span></span>;</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;arr2.getCount()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//5,可以看到拷贝成功</span></div></pre></td></tr></table></figure>
<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><p>我们在上一节的例子增加一个指针成员变量，实现深拷贝。</p>
<p>Array.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Array_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Array_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Array &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Array(<span class="keyword">int</span> count);</div><div class="line">    Array(<span class="keyword">const</span> Array &amp;arr);</div><div class="line">    ~Array();</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setCount</span><span class="params">(<span class="keyword">int</span> count)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printAddr</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printArr</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iCount;</div><div class="line">    <span class="keyword">int</span> *m_pAdd; <span class="comment">//增加了指针</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Array_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Array.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Array.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Array::Array(<span class="keyword">int</span> count)&#123;</div><div class="line">    m_iCount=count;</div><div class="line">    m_pAdd=<span class="keyword">new</span> <span class="keyword">int</span>(m_iCount);</div><div class="line">    </div><div class="line">    <span class="comment">//赋默认值</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m_iCount; i++) &#123;</div><div class="line">        m_pAdd[i]=i+<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Array"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Array::Array(<span class="keyword">const</span> Array &amp;arr)&#123;</div><div class="line">    <span class="comment">//深拷贝</span></div><div class="line">    m_iCount=arr.m_iCount;</div><div class="line">    </div><div class="line">    m_pAdd=<span class="keyword">new</span> <span class="keyword">int</span>[m_iCount];</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m_iCount; i++) &#123;</div><div class="line">        m_pAdd[i]=arr.m_pAdd[i];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Array &amp;"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Array::~Array()&#123;</div><div class="line">    <span class="keyword">delete</span> [] m_pAdd;</div><div class="line">    m_pAdd=<span class="literal">NULL</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Array"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Array::setCount(<span class="keyword">int</span> count)&#123;</div><div class="line">    m_iCount=count;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Array::getCount()&#123;</div><div class="line">    <span class="keyword">return</span> m_iCount;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Array::printAddr()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_pAdd&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Array::printArr()&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m_iCount; i++) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;m_pAdd[i]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试是否拷贝成功</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function">Array <span class="title">arr1</span><span class="params">(<span class="number">5</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="function">Array <span class="title">arr2</span><span class="params">(arr1)</span></span>;</div><div class="line"></div><div class="line">arr1.printArr();</div><div class="line">arr2.printArr();</div></pre></td></tr></table></figure>
<p>他们打印的值相同，但地址就不一样了。</p>
<h1 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h1><p>1.没有定义则系统自动生成。</p>
<p>2.对象销毁时自动调用，目的是归还资源。</p>
<p>3.析构函数，没有返回值，没有参数，不能重载。</p>
<p>Teacher.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Teacher_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Teacher_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Teacher &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//构造函数</span></div><div class="line">    Teacher(<span class="built_in">string</span> name=<span class="string">"jack"</span>,<span class="keyword">int</span> age=<span class="number">20</span>);</div><div class="line">    <span class="comment">//拷贝构造函数</span></div><div class="line">    Teacher(<span class="keyword">const</span> Teacher &amp; tea);</div><div class="line">    </div><div class="line">    <span class="comment">//析构函数</span></div><div class="line">    ~Teacher();</div><div class="line">    </div><div class="line">    <span class="comment">//成员函数</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="built_in">string</span> _name)</span></span>;</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> _age)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line">   </div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Teacher_hpp */</span></span></div></pre></td></tr></table></figure>
<p>然后实现析构函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Teacher.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line">Teacher::Teacher(<span class="built_in">string</span> name,<span class="keyword">int</span> age):m_strName(name),m_iAge(age)&#123;</div><div class="line">    <span class="comment">//这里使用初始化列表</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(string name,int age)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Teacher::Teacher(<span class="keyword">const</span> Teacher &amp; tea)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Teacher(const Teacher &amp; tea)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Teacher::~Teacher()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Teacher()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Teacher::setName(<span class="built_in">string</span> _name)&#123;</div><div class="line">    m_strName=_name;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> Teacher::getName()&#123;</div><div class="line">    <span class="keyword">return</span> m_strName;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Teacher::setAge(<span class="keyword">int</span> _age)&#123;</div><div class="line">    m_iAge=_age;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> Teacher::getAge()&#123;</div><div class="line">    <span class="keyword">return</span> m_iAge;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最后测试是否调用了析构函数</p>
<p>main.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Teacher t1; <span class="comment">//这样方式声明的，会自动调用析构函数</span></div><div class="line"><span class="function">Teacher <span class="title">t2</span><span class="params">(t1)</span></span>; <span class="comment">//这样方式声明的，会自动调用析构函数</span></div><div class="line"></div><div class="line">Teacher *t3 = <span class="keyword">new</span> Teacher();</div><div class="line"><span class="keyword">delete</span> t3; <span class="comment">//在堆上创建的对象，必须手动调用</span></div></pre></td></tr></table></figure>
<h1 id="对象数组"><a href="#对象数组" class="headerlink" title="对象数组"></a>对象数组</h1><p>首先定义一个对象Point用来表示一个二维坐标。</p>
<p>Point.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Point_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Point_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Point();</div><div class="line">    ~Point();</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Point_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Point.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.hpp"</span></span></div><div class="line"></div><div class="line">Point::Point()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Point()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Point::~Point()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Point()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后创建这个对象的对象数组。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">//在栈上创建对象</span></div><div class="line">    Point t[<span class="number">3</span>];</div><div class="line">    </div><div class="line">    t[<span class="number">0</span>].m_iX=<span class="number">10</span>;</div><div class="line">    t[<span class="number">0</span>].m_iY=<span class="number">20</span>;</div><div class="line">    </div><div class="line">    <span class="comment">//在堆上创建对象</span></div><div class="line">    Point *p=<span class="keyword">new</span> Point[<span class="number">3</span>];</div><div class="line">    p-&gt;m_iX=<span class="number">7</span>;</div><div class="line">    p[<span class="number">0</span>].m_iY=<span class="number">10</span>;</div><div class="line">    </div><div class="line">    p++;<span class="comment">//p+=1;p+=1;</span></div><div class="line">    </div><div class="line">    <span class="comment">//1</span></div><div class="line">    p-&gt;m_iX=<span class="number">11</span>;</div><div class="line">    p[<span class="number">0</span>].m_iY=<span class="number">20</span>;</div><div class="line">    </div><div class="line">    <span class="comment">//2</span></div><div class="line">    p[<span class="number">1</span>].m_iX=<span class="number">20</span>;</div><div class="line">    p++;</div><div class="line">    p-&gt;m_iY=<span class="number">30</span>;</div><div class="line">    </div><div class="line">    <span class="comment">//遍历</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;t[i].m_iX&lt;&lt;<span class="string">" "</span>&lt;&lt;t[i].m_iY&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">//现在指针是指向最后一个元素，所以只能倒序遍历</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">3</span>; j++) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;p-&gt;m_iX&lt;&lt;<span class="string">" "</span>&lt;&lt;p-&gt;m_iY&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">        p--;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    p++; <span class="comment">//重要，因为p现在指向到了，数组前面的元素</span></div><div class="line">    </div><div class="line">    <span class="keyword">delete</span> []p;</div><div class="line">    p=<span class="literal">NULL</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="对象成员"><a href="#对象成员" class="headerlink" title="对象成员"></a>对象成员</h1><p>一个对象的成员是对象。下面模拟一个Line类，有两个Point，point对象有两个成员x,y。</p>
<p>Point.hpp</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">#ifndef Point_hpp</div><div class="line">#define Point_hpp</div><div class="line"></div><div class="line">#include &lt;iostream&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">class Point &#123;</div><div class="line">    </div><div class="line">    </div><div class="line">public:</div><div class="line">    Point();</div><div class="line">    ~Point();</div><div class="line">    </div><div class="line">    void setX(int _x);</div><div class="line">    int getX();</div><div class="line">    </div><div class="line">    void setY(int _y);</div><div class="line">    int getY();</div><div class="line">private:</div><div class="line">    int m_iX;</div><div class="line">    int m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">#endif /* Point_hpp */</div></pre></td></tr></table></figure>
<p>Point.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.hpp"</span></span></div><div class="line"></div><div class="line">Point::Point()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Point()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Point::~Point()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Point()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Point::setX(<span class="keyword">int</span> _x)&#123;</div><div class="line">    m_iX=_x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Point::getX()&#123;</div><div class="line">    <span class="keyword">return</span> m_iX;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Point::setY(<span class="keyword">int</span> _y)&#123;</div><div class="line">    m_iY=_y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Point::getY()&#123;</div><div class="line">    <span class="keyword">return</span> m_iY;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们现在测试他们的构造函数调用顺序：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Line *line=<span class="keyword">new</span> Line();</div><div class="line"></div><div class="line"><span class="keyword">delete</span> line;</div></pre></td></tr></table></figure>
<p>输出如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Point()</div><div class="line">Point()</div><div class="line">Line()</div><div class="line">~Line()</div><div class="line">~Point()</div><div class="line">~Point()</div></pre></td></tr></table></figure>
<p>结论：先初始化内部对象成员，然后在初始化外部类。销毁先外部类，然后销毁内部成员对象。</p>
<p>那成员之间他们的初始化顺序和销毁顺序是什么呢：</p>
<p>我给Point,Line都加上了构造参数</p>
<p>Point.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Point::Point(<span class="keyword">int</span> x,<span class="keyword">int</span> y):m_iX(x),m_iY(y)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Point()"</span>&lt;&lt;m_iX&lt;&lt;<span class="string">","</span>&lt;&lt;m_iY&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Point::~Point()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Point()"</span>&lt;&lt;m_iX&lt;&lt;<span class="string">","</span>&lt;&lt;m_iY&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Line.cpp</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Line::Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2):m_pointA(x1,y1),m_pointB(x2,y2)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Line()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line">Line::~Line()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Line()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后穿入值：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Line *line=<span class="keyword">new</span> Line(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line"></div><div class="line"><span class="keyword">delete</span> line;</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Point()1,2</div><div class="line">Point()3,4</div><div class="line">Line()</div><div class="line">~Line()</div><div class="line">~Point()3,4</div><div class="line">~Point()1,2</div></pre></td></tr></table></figure>
<p>可以看见小初始化最上面的对象成员，销毁则相反。</p>
<h1 id="对象指针"><a href="#对象指针" class="headerlink" title="对象指针"></a>对象指针</h1><p>首先定义一个坐标类，然后实例化两个对象，然后分别计算坐标之和，最后使用指针操作。</p>
<p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Coordinate &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Coordinate();</div><div class="line">    ~Coordinate();</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Coordinate::Coordinate()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Coordinate()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Coordinate::~Coordinate()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Coordinate()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//    Coordinate *p1=NULL;</span></div><div class="line"><span class="comment">//    p1=new Coordinate;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    Coordinate *p2=new Coordinate();</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    p1-&gt;m_iX=10;</span></div><div class="line"><span class="comment">//    p1-&gt;m_iY=20;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    (*p2).m_iX=30;</span></div><div class="line"><span class="comment">//    (*p2).m_iY=40;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    //计算这两个点坐标之和</span></div><div class="line"><span class="comment">//    cout&lt;&lt;p1-&gt;m_iX+(*p2).m_iX&lt;&lt;endl; //40</span></div><div class="line"><span class="comment">//    cout&lt;&lt;p1-&gt;m_iY+(*p2).m_iY&lt;&lt;endl; //60</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    delete p1;</span></div><div class="line"><span class="comment">//    p1=NULL;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    delete p2;</span></div><div class="line"><span class="comment">//    p2=NULL;</span></div><div class="line"></div><div class="line"><span class="comment">//对象指针</span></div><div class="line">Coordinate p1;</div><div class="line"></div><div class="line">Coordinate *p2=&amp;p1;</div><div class="line"></div><div class="line">p2-&gt;m_iX=<span class="number">10</span>;</div><div class="line">p2-&gt;m_iY=<span class="number">20</span>;</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;p1.m_iX&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//10</span></div><div class="line"><span class="built_in">cout</span>&lt;&lt;p1.m_iY&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//20，可以看到我们通过指针的方式操作了p1</span></div></pre></td></tr></table></figure>
<h2 id="成员对象指针"><a href="#成员对象指针" class="headerlink" title="成员对象指针"></a>成员对象指针</h2><p>改进上面的项目，将Line里面的点换成指针。</p>
<p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span>  Coordinate&#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</div><div class="line">    ~Coordinate();</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Coordinate::Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</div><div class="line">    m_iX=x;</div><div class="line">    m_iY=y;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Coordinate(int x,int y)"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Coordinate::~Coordinate()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Coordinate"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getX()&#123;</div><div class="line">    <span class="keyword">return</span> m_iX;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getY()&#123;</div><div class="line">    <span class="keyword">return</span> m_iY;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Line.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Line_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Line_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Line &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2);</div><div class="line">    ~Line();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    Coordinate *m_pCoorA;</div><div class="line">    Coordinate *m_pCoorB;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Line_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Line.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Line.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Line::Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2)&#123;</div><div class="line">    <span class="comment">//先实例化两个点</span></div><div class="line">    m_pCoorA=<span class="keyword">new</span> Coordinate(x1,y1);</div><div class="line">    m_pCoorB=<span class="keyword">new</span> Coordinate(x2,y2);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Line()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Line::~Line()&#123;</div><div class="line">    <span class="keyword">delete</span> m_pCoorA;</div><div class="line">    m_pCoorA=<span class="literal">NULL</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">delete</span> m_pCoorB;</div><div class="line">    m_pCoorB=<span class="literal">NULL</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Line()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Line::printInfo()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"printinfo()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_pCoorA-&gt;getX()&lt;&lt;<span class="string">","</span>&lt;&lt;m_pCoorA-&gt;getY()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_pCoorB-&gt;getX()&lt;&lt;<span class="string">","</span>&lt;&lt;m_pCoorB-&gt;getY()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Line *p=<span class="keyword">new</span> Line(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line">p-&gt;printInfo();</div><div class="line"></div><div class="line"><span class="keyword">delete</span> p;</div><div class="line">p=<span class="literal">NULL</span>;</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="keyword">sizeof</span>(p)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="keyword">sizeof</span>(Line)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line"><span class="comment">//    Coordinate(int x,int y)</span></div><div class="line"><span class="comment">//    Coordinate(int x,int y)</span></div><div class="line"><span class="comment">//    Line()</span></div><div class="line"><span class="comment">//    printinfo()</span></div><div class="line"><span class="comment">//    1,2</span></div><div class="line"><span class="comment">//    3,4</span></div><div class="line"><span class="comment">//    ~Coordinate</span></div><div class="line"><span class="comment">//    ~Coordinate</span></div><div class="line"><span class="comment">//    ~Line()</span></div><div class="line"><span class="comment">//    8 //64位，一个指针8位，</span></div><div class="line"><span class="comment">//    16 //line里面有两个指针</span></div></pre></td></tr></table></figure>
<h1 id="this指针"><a href="#this指针" class="headerlink" title="this指针"></a>this指针</h1><p>this指针指向当前对象的地址，值和&amp;当前对象的值一样。</p>
<p>Array.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Array_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Array_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Array &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Array(<span class="keyword">int</span> len);</div><div class="line">    ~Array();</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setLen</span><span class="params">(<span class="keyword">int</span> len)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLen</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line">    <span class="function">Array* <span class="title">printInfo</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> len;</div><div class="line">    </div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Array_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Array.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Array.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Array::Array(<span class="keyword">int</span> len)&#123;</div><div class="line">    <span class="keyword">this</span>-&gt;len=len;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Array::~Array()&#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Array::setLen(<span class="keyword">int</span> len)&#123;</div><div class="line">    <span class="keyword">this</span>-&gt;len=len;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Array::getLen()&#123;</div><div class="line">    <span class="keyword">return</span> len;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//如果这里return的Array对象，那么他是一个临时对象，不会更改原对象的值</span></div><div class="line"><span class="comment">//如果return是Array&amp;,新对象的改变会影响到原对象</span></div><div class="line"><span class="comment">//如果return是指针，也会改变原对象</span></div><div class="line">Array* Array::printInfo()&#123;</div><div class="line"><span class="comment">//    cout&lt;&lt;"len="&lt;&lt;len&lt;&lt;endl;</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">//他要求返回一个对象，this是一个指针，*this就是一个对象</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function">Array <span class="title">arr</span><span class="params">(<span class="number">10</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="comment">//    arr.printInfo().setLen(5);</span></div><div class="line">arr.printInfo()-&gt;setLen(<span class="number">5</span>);</div><div class="line"></div><div class="line"><span class="comment">//    cout&lt;&lt;arr.getLen()&lt;&lt;endl;</span></div><div class="line"><span class="built_in">cout</span>&lt;&lt;&amp;arr&lt;&lt;<span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
<h1 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h1><h2 id="什么是继承"><a href="#什么是继承" class="headerlink" title="什么是继承"></a>什么是继承</h2><p>学生继承人类的一些共性。</p>
<p>定义一个Person类，然后让Worker共有继承Person类。</p>
<h2 id="继承中构造函数和析构函数调用顺序"><a href="#继承中构造函数和析构函数调用顺序" class="headerlink" title="继承中构造函数和析构函数调用顺序"></a>继承中构造函数和析构函数调用顺序</h2><p>在继承中：</p>
<p>创建对象时先调用父类的构造函数，在调用子类的构造函数。</p>
<p>销毁对象时先调用子类的析构函数，然后在调用父类的析构函数。</p>
<p>输出如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Person()</div><div class="line">Worker()</div><div class="line">~Worker()</div><div class="line">~Person()</div></pre></td></tr></table></figure>
<p>其中Worker继承Person</p>
<h2 id="继承方式"><a href="#继承方式" class="headerlink" title="继承方式"></a>继承方式</h2><h3 id="共有继承"><a href="#共有继承" class="headerlink" title="共有继承"></a>共有继承</h3><p>class A:public B</p>
<table>
<thead>
<tr>
<th>父类成员访问属性</th>
<th>子类成员访问属性</th>
</tr>
</thead>
<tbody>
<tr>
<td>private</td>
<td>无法访问(也可以说没继承下来)</td>
</tr>
<tr>
<td>protected</td>
<td>protected</td>
</tr>
<tr>
<td>public</td>
<td>public</td>
</tr>
</tbody>
</table>
<h3 id="保护继承"><a href="#保护继承" class="headerlink" title="保护继承"></a>保护继承</h3><p>class A:protected B</p>
<table>
<thead>
<tr>
<th style="text-align:left">父类成员访问属性</th>
<th>子类成员访问属性</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">private</td>
<td>无法访问(也可以说没继承下来)</td>
</tr>
<tr>
<td style="text-align:left">protected</td>
<td>protected</td>
</tr>
<tr>
<td style="text-align:left">public</td>
<td>protected</td>
</tr>
</tbody>
</table>
<h3 id="私有继承"><a href="#私有继承" class="headerlink" title="私有继承"></a>私有继承</h3><p>class A:private B</p>
<table>
<thead>
<tr>
<th style="text-align:left">父类成员访问属性</th>
<th>子类成员访问属性</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">private</td>
<td>无法访问(也可以说没继承下来)</td>
</tr>
<tr>
<td style="text-align:left">protected</td>
<td>private</td>
</tr>
<tr>
<td style="text-align:left">public</td>
<td>private</td>
</tr>
</tbody>
</table>
<p>私有继承也属于一个Has a关系，因为他只能访问父类的共有属性。</p>
<h2 id="隐藏"><a href="#隐藏" class="headerlink" title="隐藏"></a>隐藏</h2><p>父子关系，成员同名，隐藏。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Soldier里有一个play,他的父类也有一个play方法</span></div><div class="line">Soldier s;</div><div class="line"></div><div class="line"><span class="comment">//调用Soldier里的play方法</span></div><div class="line">s.play();</div><div class="line">s.work();</div><div class="line"></div><div class="line"><span class="comment">//调用Person里面的play方法</span></div><div class="line">s.Person::play();</div></pre></td></tr></table></figure>
<h2 id="多重集成"><a href="#多重集成" class="headerlink" title="多重集成"></a>多重集成</h2><p>注意他不是多继承，比如：士兵继承人，步兵继承士兵，他们之间的关系是多重继承。</p>
<h2 id="多继承"><a href="#多继承" class="headerlink" title="多继承"></a>多继承</h2><p>比如:农民集成工人类，还继承农民类，简称农民工类，他们之间的关系就是多继承。</p>
<p>Worker.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Worker_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Worker_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Worker &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Worker(<span class="built_in">string</span> code=<span class="string">"001"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Worker();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">carry</span><span class="params">()</span></span>;  <span class="comment">//射击</span></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strCode;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Worker_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Worker.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Worker::Worker(<span class="built_in">string</span> code)&#123;</div><div class="line">    m_strCode=code;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Worker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Worker::~Worker()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Worker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Worker::carry()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_strCode&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Worker-carry()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Farmer.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Farmer_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Farmer_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Farmer &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Farmer(<span class="built_in">string</span> name=<span class="string">"jack"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Farmer();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sow</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Farmer_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Farmer.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Farmer.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Farmer::Farmer(<span class="built_in">string</span> name)&#123;</div><div class="line">    m_strName=name;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Farmer()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Farmer::~Farmer()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Farmer()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> Farmer::sow()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"sow()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MigrantWorker.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MigrantWorker_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MigrantWorker_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Farmer.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//这里在前面，先调用构造函数</span></div><div class="line"><span class="keyword">class</span> MigrantWorker:<span class="keyword">public</span> Worker,<span class="keyword">public</span> Farmer &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MigrantWorker(<span class="built_in">string</span> name,<span class="built_in">string</span> code);</div><div class="line">    ~MigrantWorker();</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* MigrantWorker_hpp */</span></span></div></pre></td></tr></table></figure>
<p>MigrantWorker.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"MigrantWorker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">MigrantWorker::MigrantWorker(<span class="built_in">string</span> name,<span class="built_in">string</span> code):Farmer(name),Worker(code)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"MigrantWorker"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">MigrantWorker::~MigrantWorker()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~MigrantWorker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最后测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">MigrantWorker *p = <span class="keyword">new</span> MigrantWorker(<span class="string">"Merry"</span>,<span class="string">"100"</span>);</div><div class="line"></div><div class="line">p-&gt;carry();</div><div class="line">p-&gt;sow();</div><div class="line"></div><div class="line"><span class="keyword">delete</span> p;</div><div class="line">p=<span class="literal">NULL</span>;</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Worker()</div><div class="line">Farmer()</div><div class="line">MigrantWorker</div><div class="line">100</div><div class="line">Worker-carry()</div><div class="line">sow()</div><div class="line">~MigrantWorker()</div><div class="line">~Farmer()</div><div class="line">~Worker()</div></pre></td></tr></table></figure>
<h2 id="虚继承"><a href="#虚继承" class="headerlink" title="虚继承"></a>虚继承</h2><p>是为了解决菱形继承问题。简单来讲就是，工人继承人，农民继承人，农民工继承工人，农民就会出现两份人的信息，如果让工人虚继承人，农民虚继承人，农民工在继承他们两个，就只会出现一份人的信息。就这问题，如果按照常规写法，会报错，Person重定义。解决方法有多种</p>
<h3 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Person_hpp <span class="comment">//解决宏定义</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Person_hpp <span class="comment">//解决宏定义</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Person(<span class="built_in">string</span> color=<span class="string">"blue"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Person();</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printColor</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strColor;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//解决宏定义</span></span></div></pre></td></tr></table></figure>
<p>在菱形继承中，会导致里面有多份数据。可以这样验证：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Person()</div><div class="line">Worker()</div><div class="line">Person()</div><div class="line">Farmer()</div><div class="line">MigrantWorker</div><div class="line">Worker red //重复数据</div><div class="line">Person-printColor()</div><div class="line">Farmer red //重复数据</div><div class="line">Person-printColor()</div><div class="line">~MigrantWorker()</div><div class="line">~Farmer()</div><div class="line">~Person()</div><div class="line">~Worker()</div><div class="line">~Person()</div></pre></td></tr></table></figure>
<p>解决方法是工人，农民从人类那里虚拟继承。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Worker:<span class="keyword">virtual</span> <span class="keyword">public</span> Person</div><div class="line">  </div><div class="line"><span class="keyword">class</span> Farmer:<span class="keyword">virtual</span> <span class="keyword">public</span> Person</div></pre></td></tr></table></figure>
<p>这样打印结果就是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Person()</div><div class="line">Worker()</div><div class="line">Farmer()</div><div class="line">MigrantWorker</div><div class="line">b</div><div class="line">Person-printColor()</div><div class="line">b</div><div class="line">Person-printColor()</div><div class="line">~MigrantWorker()</div><div class="line">~Farmer()</div><div class="line">~Worker()</div><div class="line">~Person()</div></pre></td></tr></table></figure>
<p>但是这样的结果就是，Person类无法接收到子类传递的参数。下面是完整测试代码：</p>
<p>Person.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Person_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Person_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Person(<span class="built_in">string</span> color=<span class="string">"b"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Person();</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printColor</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strColor;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Person_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Person.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Person.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Person::Person(<span class="built_in">string</span> code)&#123;</div><div class="line">    m_strColor=code;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Person()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person::~Person()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Person()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Person::printColor()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_strColor&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Person-printColor()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Worker.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Worker_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Worker_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Person.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Worker:<span class="keyword">virtual</span> <span class="keyword">public</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Worker(<span class="built_in">string</span> code=<span class="string">"001"</span>,<span class="built_in">string</span> color=<span class="string">"blue"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Worker();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">carry</span><span class="params">()</span></span>;  <span class="comment">//射击</span></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strCode;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Worker_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Worker.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Worker::Worker(<span class="built_in">string</span> code,<span class="built_in">string</span> color):Person(<span class="string">"Worker "</span>+color)&#123;</div><div class="line">    m_strCode=code;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Worker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Worker::~Worker()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Worker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Worker::carry()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_strCode&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Worker-carry()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Farmer.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Farmer_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Farmer_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Person.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Farmer:<span class="keyword">virtual</span> <span class="keyword">public</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Farmer(<span class="built_in">string</span> name=<span class="string">"jack"</span>,<span class="built_in">string</span> color=<span class="string">"blue"</span>);</div><div class="line">    <span class="keyword">virtual</span> ~Farmer();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sow</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Farmer_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Farmer.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Farmer.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Farmer::Farmer(<span class="built_in">string</span> name,<span class="built_in">string</span> color):Person(<span class="string">"Farmer "</span>+color)&#123;</div><div class="line">    m_strName=name;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Farmer()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Farmer::~Farmer()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Farmer()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> Farmer::sow()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"sow()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MigrantWorker.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MigrantWorker_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MigrantWorker_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Farmer.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//这里在前面，先调用构造函数</span></div><div class="line"><span class="keyword">class</span> MigrantWorker:<span class="keyword">public</span> Worker,<span class="keyword">public</span> Farmer &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MigrantWorker(<span class="built_in">string</span> name,<span class="built_in">string</span> code,<span class="built_in">string</span> color);</div><div class="line">    ~MigrantWorker();</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* MigrantWorker_hpp */</span></span></div></pre></td></tr></table></figure>
<p>MigrantWorker.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"MigrantWorker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">MigrantWorker::MigrantWorker(<span class="built_in">string</span> name,<span class="built_in">string</span> code,<span class="built_in">string</span> color):Farmer(name,color),Worker(code,color)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"MigrantWorker"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">MigrantWorker::~MigrantWorker()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~MigrantWorker()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h1><h2 id="静态多态-早绑定"><a href="#静态多态-早绑定" class="headerlink" title="静态多态(早绑定)"></a>静态多态(早绑定)</h2><p>例子是，一个类有多个函数重载，在调用的时候传不同的参数，在编译时就确定了要调用那个函数。</p>
<h2 id="动态多态-晚绑定"><a href="#动态多态-晚绑定" class="headerlink" title="动态多态(晚绑定)"></a>动态多态(晚绑定)</h2><p>比如：我们定义一个形状类定义一个计算面积的函数，在定义圆继承形状类中也定义一个计算面积函数并实现，在定义一个矩形并也实现计算面积的函数。</p>
<p>然后也用形状类型的指针，引用这两个对象，然后调用计算面积的方法。他们会调用不同对象类的面积方法。</p>
<p>Shape.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Shape_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Shape_hpp</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">class</span> Shape &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Shape();</div><div class="line">    ~Shape();</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">calcArea</span><span class="params">()</span></span>; <span class="comment">//要实现多态，需要加virtual，子类方法默认也就加上了，但最好手动也加上，这样一看就明白，</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Shape_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Shape.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Shape.hpp"</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Shape::Shape()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Shape()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Shape::~Shape()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Shape"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">double</span> Shape::calcArea()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Shape-calcAre()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Circle.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Circle_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Circle_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Shape.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Circle:<span class="keyword">public</span> Shape &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Circle(<span class="keyword">double</span> r);</div><div class="line">    ~Circle();</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">calcArea</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keyword">double</span> m_dR; <span class="comment">//圆的半径</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Circle_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Circle.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Circle.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Circle::Circle(<span class="keyword">double</span> r)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Circle"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Circle::~Circle()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Circle"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">double</span> Circle::calcArea()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Circle-calcArea"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">3.14</span>*m_dR*m_dR;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Rect.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Rect_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Rect_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Shape.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Rect:<span class="keyword">public</span> Shape &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Rect(<span class="keyword">double</span> width,<span class="keyword">double</span> height);</div><div class="line">    ~Rect();</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">calcArea</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keyword">double</span> m_dWidth;</div><div class="line">    <span class="keyword">double</span> m_dHeight;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Rect_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Rect.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Rect.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Rect::Rect(<span class="keyword">double</span> width,<span class="keyword">double</span> height)&#123;</div><div class="line">    m_dWidth=width;</div><div class="line">    m_dHeight=height;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Rect"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Rect::~Rect()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Rect"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">double</span> Rect::calcArea()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Rect-calcArea"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> m_dHeight*m_dWidth;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Shape *shape1=<span class="keyword">new</span> Rect(<span class="number">2</span>,<span class="number">5</span>);</div><div class="line">Shape *shape2=<span class="keyword">new</span> Circle(<span class="number">3</span>);</div><div class="line"></div><div class="line">shape1-&gt;calcArea();</div><div class="line">shape2-&gt;calcArea();</div><div class="line"></div><div class="line"><span class="keyword">delete</span> shape1;</div><div class="line"><span class="keyword">delete</span> shape2;</div><div class="line"></div><div class="line">shape1=<span class="literal">NULL</span>;</div><div class="line">shape2=<span class="literal">NULL</span>;</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Shape()</div><div class="line">Rect</div><div class="line">Shape()</div><div class="line">Circle</div><div class="line">Rect-calcArea</div><div class="line">Circle-calcArea</div><div class="line">~Shape //可以看见析构函数还有问题，因为只调用了父类析构函数</div><div class="line">~Shape</div></pre></td></tr></table></figure>
<h2 id="virtual使用限制"><a href="#virtual使用限制" class="headerlink" title="virtual使用限制"></a>virtual使用限制</h2><p>修饰的函数不能使全局函数，不能修饰静态成员函数，不能修饰构造函数，导致编译错误。</p>
<p>不能修饰内联函数，如果修饰了inline将被忽略。</p>
<h2 id="虚析构函数"><a href="#虚析构函数" class="headerlink" title="虚析构函数"></a>虚析构函数</h2><p>他就是解决上面例子中析构函数问题的。一般建议父类都声明虚构析构函数，因为你不知道未来的子类是否会使用析构函数释放资源。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">virtual</span> ~Shape();</div></pre></td></tr></table></figure>
<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>含有纯虚函数的类叫抽象类。不能实例化对象，编译错误</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">double</span> <span class="title">test</span><span class="params">()</span></span>=<span class="number">0</span>; <span class="comment">//声明一个纯虚函数</span></div></pre></td></tr></table></figure>
<p>这里我们设计这样一个示例，一个人类，一个工人类，一个清洁工类</p>
<p>Person.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Person_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Person_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Person(<span class="built_in">string</span> name);</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>=<span class="number">0</span>; <span class="comment">//纯虚函数</span></div><div class="line">    <span class="keyword">virtual</span> ~Person()&#123;&#125;;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strName;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Person_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Person.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Person.hpp"</span></span></div><div class="line"></div><div class="line">Person::Person(<span class="built_in">string</span> name)&#123;</div><div class="line">    m_strName=name;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Worker.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Worker_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Worker_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Person.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Worker:<span class="keyword">public</span> Person &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Worker(<span class="built_in">string</span> name,<span class="keyword">int</span> age);</div><div class="line"><span class="comment">//    virtual void work();</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iAge;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Worker_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Worker.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Worker::Worker(<span class="built_in">string</span> name,<span class="keyword">int</span> age):Person(name)&#123;</div><div class="line">    m_iAge=age;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//void Worker::work()&#123;</span></div><div class="line"><span class="comment">//    cout&lt;&lt;"Work-work()"&lt;&lt;endl;</span></div><div class="line"><span class="comment">//&#125;</span></div></pre></td></tr></table></figure>
<p>Dustman.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Dustman_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Dustman_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Worker.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Dustman:<span class="keyword">public</span> Worker &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Dustman(<span class="built_in">string</span> name,<span class="keyword">int</span> age);</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Dustman_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Dustman.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Dustman.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Dustman::Dustman(<span class="built_in">string</span> name,<span class="keyword">int</span> age):Worker(name,age)&#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Dustman::work()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Dustman-扫地"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function">Dustman <span class="title">dustman</span><span class="params">(<span class="string">"a"</span>,<span class="number">20</span>)</span></span>; <span class="comment">//测试是否可以被实例化</span></div></pre></td></tr></table></figure>
<h2 id="接口类"><a href="#接口类" class="headerlink" title="接口类"></a>接口类</h2><p>仅含有纯虚函数的类称为接口类。下面定义一个可飞的接口，然后实现一个飞机，战斗机类。</p>
<p>Flyable.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Flyable_h</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Flyable_h</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Flyable &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>=<span class="number">0</span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>=<span class="number">0</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Flyable_h */</span></span></div></pre></td></tr></table></figure>
<p>由于它是接口类，所以没有cpp文件。</p>
<p>Plane.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Plane_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Plane_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Flyable.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Plane :<span class="keyword">public</span> Flyable &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Plane(<span class="built_in">string</span> code);</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printCode</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">string</span> m_strCode;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Plane_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Plane.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Plane.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">Plane::Plane(<span class="built_in">string</span> code)&#123;</div><div class="line">    m_strCode=code;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::takeoff()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Plane-takeoff()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::land()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Plane-land()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::printCode()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;m_strCode&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>FighterPlane.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> FighterPlane_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FighterPlane_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Plane.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> FighterPlane:<span class="keyword">public</span> Plane &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    FighterPlane(<span class="built_in">string</span> code);</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* FighterPlane_hpp */</span></span></div></pre></td></tr></table></figure>
<p>FighterPlane.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"FighterPlane.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line">FighterPlane::FighterPlane(<span class="built_in">string</span> code):Plane(code)&#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> FighterPlane::takeoff()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"FighterPlane-takeoff()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> FighterPlane::land()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"FighterPlane-land()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Flyable.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Plane.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"FighterPlane.hpp"</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">flyMatch</span><span class="params">(Flyable *f1,Flyable *f2)</span></span>&#123;</div><div class="line">    f1-&gt;takeoff();</div><div class="line">    f1-&gt;land();</div><div class="line">    f2-&gt;takeoff();</div><div class="line">    f2-&gt;land();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//传入父类</span></div><div class="line"><span class="comment">//    Plane p1("1");</span></div><div class="line"><span class="comment">//    Plane p2("2");</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    flyMatch(&amp;p1, &amp;p2);</span></div><div class="line">    </div><div class="line">    <span class="comment">//传入子类</span></div><div class="line">    <span class="function">FighterPlane <span class="title">p1</span><span class="params">(<span class="string">"1"</span>)</span></span>;</div><div class="line">    <span class="function">FighterPlane <span class="title">p2</span><span class="params">(<span class="string">"2"</span>)</span></span>;</div><div class="line">    </div><div class="line">    p1.printCode();</div><div class="line">    p2.printCode();</div><div class="line">    </div><div class="line">    flyMatch(&amp;p1, &amp;p2);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="RTTI-运行时类型识别"><a href="#RTTI-运行时类型识别" class="headerlink" title="RTTI(运行时类型识别)"></a>RTTI(运行时类型识别)</h1><p>Run-Time Type Identification</p>
<h2 id="typeid"><a href="#typeid" class="headerlink" title="typeid"></a>typeid</h2><p>注意：</p>
<p>他返回一个type_info对象的引用</p>
<p>如果想通过父类的指针获得派生类的数据类型，父类必须带有虚函数。</p>
<p>只能获取对象的实际类型，不能判断指针</p>
<h2 id="dynamic-cast"><a href="#dynamic-cast" class="headerlink" title="dynamic_cast"></a>dynamic_cast</h2><p>注意：</p>
<p>只能用于指针和引用的转换</p>
<p>要转换的类型中必须包含虚函数</p>
<p>转换成功返回子类的地址，失败返回NULL</p>
<p>下面演示定义一个Flyable,然后定义一个Bird,Plane继承Flyable,然后演示使用方法。</p>
<p>Flyable.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Flyable_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Flyable_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Flyable &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>=<span class="number">0</span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>=<span class="number">0</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Flyable_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Bird.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Bird_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Bird_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Flyable.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Bird:<span class="keyword">public</span> Flyable &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">foraging</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Bird_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Bird.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Bird.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Bird::foraging()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Bird-foraging()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Bird::takeoff()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Bird-takeoff()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Bird::land()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Bird-land()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Plane.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Plane_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Plane_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Flyable.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span>  Plane:<span class="keyword">public</span> Flyable &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">carry</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">takeoff</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">land</span><span class="params">()</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Plane_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Plane.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Plane.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::carry()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Plane-carry()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::takeoff()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Plane-takeoff()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Plane::land()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Plane-land()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>main.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="comment">//#include &lt;typeinfo&gt; //有些编译器要包含</span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Flyable.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Bird.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Plane.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">(Flyable *obj)</span></span>&#123;</div><div class="line">    <span class="comment">//xcode中输出5Plane,4Bird</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">typeid</span>(*obj).name()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    obj-&gt;takeoff();</div><div class="line">    </div><div class="line"><span class="comment">//    typeid有点栗色java中的instance</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeid</span>(*obj)==<span class="keyword">typeid</span>(Bird)) &#123;</div><div class="line">        Bird *bird=<span class="keyword">dynamic_cast</span>&lt;Bird *&gt;(obj);</div><div class="line">        bird-&gt;foraging();</div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeid</span>(*obj)==<span class="keyword">typeid</span>(Plane))&#123;</div><div class="line">        Plane *plane=<span class="keyword">dynamic_cast</span>&lt;Plane *&gt;(obj);</div><div class="line">        plane-&gt;carry();</div><div class="line">    &#125;</div><div class="line">    obj-&gt;land();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line">    </div><div class="line"><span class="comment">//    Bird b;</span></div><div class="line"><span class="comment">//    doSomething(&amp;b);</span></div><div class="line">    </div><div class="line">    <span class="comment">//输出</span></div><div class="line"><span class="comment">//    4Bird</span></div><div class="line"><span class="comment">//    Bird-takeoff()</span></div><div class="line"><span class="comment">//    Bird-foraging()</span></div><div class="line"><span class="comment">//    Bird-land()</span></div><div class="line">    </div><div class="line">    <span class="comment">//基本类型</span></div><div class="line">    <span class="keyword">int</span> i=<span class="number">10</span>; <span class="comment">//i</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">typeid</span>(i).name()&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    </div><div class="line">    <span class="comment">//指针</span></div><div class="line">    Plane *p=<span class="keyword">new</span> Plane();</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">typeid</span>(p).name()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//P5Plane</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">typeid</span>(*p).name()&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//5Plane</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>Exception.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Exception_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Exception_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Exception &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">printException</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">virtual</span> ~Exception()&#123;&#125;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Exception_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Exception.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Exception.hpp"</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Exception.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Exception::printException()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Exception-printException"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>IndexException.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> IndexException_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> IndexException_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Exception.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">class</span> IndexException:<span class="keyword">public</span> Exception &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">printException</span><span class="params">()</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* IndexException_hpp */</span></span></div></pre></td></tr></table></figure>
<p>IndexException.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"IndexException.hpp"</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">void</span> IndexException::printException()&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"IndexException-下标越界"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"IndexException.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">//基本方式</span></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">catch</span> (<span class="keyword">int</span>) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"捕捉到异常了"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//捕捉到异常的值</span></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="number">0.1</span>;</div><div class="line">    &#125; <span class="keyword">catch</span> (<span class="keyword">double</span> &amp;e) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;e&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//对象异常</span></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="keyword">throw</span> IndexException();</div><div class="line">    &#125; <span class="keyword">catch</span> (IndexException e) &#123;</div><div class="line">        e.printException();</div><div class="line">    &#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">        e.printException();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h1><h2 id="友元函数"><a href="#友元函数" class="headerlink" title="友元函数"></a>友元函数</h2><p>不建议使用，会影响封装讯。</p>
<p>在友元函数里面可以直接访问对象的私有属性。</p>
<h3 id="友元全局函数"><a href="#友元全局函数" class="headerlink" title="友元全局函数"></a>友元全局函数</h3><p>这里演示先定义一个Time,然后在定义一个全局函数，并在Time中声明这个函数为Time类的友元函数。并访问私有属性。</p>
<p>Time.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Time_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Time_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Time &#123;</div><div class="line">    </div><div class="line">    <span class="comment">//声明为全局友元函数，这样在这个函数中就可以直接访问私有变量</span></div><div class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">printTime</span><span class="params">(Time &amp;t)</span></span>;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Time(<span class="keyword">int</span> hour,<span class="keyword">int</span> min,<span class="keyword">int</span> sec);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iHour;</div><div class="line">    <span class="keyword">int</span> m_iMinute;</div><div class="line">    <span class="keyword">int</span> m_iSecond;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Time_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Time.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Time.hpp"</span></span></div><div class="line"></div><div class="line">Time::Time(<span class="keyword">int</span> hour,<span class="keyword">int</span> min,<span class="keyword">int</span> sec)&#123;</div><div class="line">    m_iHour=hour;</div><div class="line">    m_iMinute=min;</div><div class="line">    m_iSecond=sec;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后定一个全局函数，并测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Time.hpp"</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printTime</span><span class="params">(Time &amp;t)</span></span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t.m_iHour&lt;&lt;<span class="string">":"</span>&lt;&lt;t.m_iMinute&lt;&lt;<span class="string">":"</span>&lt;&lt;t.m_iHour&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function">Time <span class="title">t</span><span class="params">(<span class="number">6</span>,<span class="number">10</span>,<span class="number">20</span>)</span></span>;</div><div class="line">    printTime(t);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以看到现在完全可以访问私有函数。</p>
<h3 id="友元成员函数"><a href="#友元成员函数" class="headerlink" title="友元成员函数"></a>友元成员函数</h3><p>这里我们定义一个Time,然后在Match类中定义一个函数，然后将这个函数申明为Time类中的友元成员函数。</p>
<p>Time.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Time_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Time_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Match.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Time &#123;</div><div class="line">    </div><div class="line">    <span class="comment">//声明为全局友元函数，这样在这个函数中就可以直接访问私有变量</span></div><div class="line">    <span class="keyword">friend</span> <span class="keyword">void</span> Match::printTime(Time &amp;t);</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Time(<span class="keyword">int</span> hour,<span class="keyword">int</span> min,<span class="keyword">int</span> sec);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iHour;</div><div class="line">    <span class="keyword">int</span> m_iMinute;</div><div class="line">    <span class="keyword">int</span> m_iSecond;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Time_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Time.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Time.hpp"</span></span></div><div class="line"></div><div class="line">Time::Time(<span class="keyword">int</span> hour,<span class="keyword">int</span> min,<span class="keyword">int</span> sec)&#123;</div><div class="line">    m_iHour=hour;</div><div class="line">    m_iMinute=min;</div><div class="line">    m_iSecond=sec;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Match.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Match_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Match_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Time;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Match &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printTime</span><span class="params">(Time &amp;t)</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Match_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Match.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Time.hpp"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Match.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> Match::printTime(Time &amp;t)&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t.m_iHour&lt;&lt;<span class="string">":"</span>&lt;&lt;t.m_iMinute&lt;&lt;<span class="string">":"</span>&lt;&lt;t.m_iHour&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Time.hpp"</span></span></div><div class="line"></div><div class="line"><span class="comment">//void printTime(Time &amp;t)&#123;</span></div><div class="line"><span class="comment">//    cout&lt;&lt;t.m_iHour&lt;&lt;":"&lt;&lt;t.m_iMinute&lt;&lt;":"&lt;&lt;t.m_iHour&lt;&lt;endl;</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function">Time <span class="title">t</span><span class="params">(<span class="number">6</span>,<span class="number">10</span>,<span class="number">20</span>)</span></span>;</div><div class="line"><span class="comment">//    printTime(t);</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="友元类"><a href="#友元类" class="headerlink" title="友元类"></a>友元类</h2><p>注意：</p>
<p>友元关系不可以传递，A是B的朋友，B是C的朋友，A不一定是C的朋友</p>
<p>友元关系的单向性，A是B的朋友，B不一定是A的朋友</p>
<p>友元声明的形式以及数量不受限制，也就是说即声明函数，字段都可以</p>
<p>特别注意：友元只是封装的补充，并不是很好地设计。</p>
<p>下载演示将Match类声明为Time的友元类，这样就可以访问Time的私有函数，数据成员。</p>
<h1 id="静态"><a href="#静态" class="headerlink" title="静态"></a>静态</h1><h2 id="静态数据成员"><a href="#静态数据成员" class="headerlink" title="静态数据成员"></a>静态数据成员</h2><h2 id="静态成员函数"><a href="#静态成员函数" class="headerlink" title="静态成员函数"></a>静态成员函数</h2><p>注意：</p>
<p>静态数据成员必须单独初始化</p>
<p>静态数据成员不能调用飞静态成员函数和非静态数据成员。</p>
<p>静态成员函数后面不能加const</p>
<p>Tank.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Tank_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Tank_hpp</span></div><div class="line"></div><div class="line"><span class="keyword">class</span> Tank &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Tank(<span class="keyword">char</span> code);</div><div class="line">    ~Tank();</div><div class="line">    Tank();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fire</span><span class="params">()</span></span>;</div><div class="line"><span class="comment">//    static int getCount(); //静态成员函数</span></div><div class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keyword">int</span> s_iCount;</div><div class="line">    <span class="keyword">char</span> m_cCode; <span class="comment">//静态数据成员</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Tank_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Tank.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Tank.hpp"</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//初始化静态数据成员</span></div><div class="line"><span class="keyword">int</span> Tank::s_iCount=<span class="number">0</span>;</div><div class="line"></div><div class="line">Tank::Tank(<span class="keyword">char</span> code)&#123;</div><div class="line">    m_cCode=code;</div><div class="line">    s_iCount++;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Tank()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Tank::~Tank()&#123;</div><div class="line">    s_iCount--;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"~Tank()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Tank::fire()&#123;</div><div class="line"><span class="comment">//    getCount(); //可以调用</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"fire()"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//实现静态成员函数时，不用写static</span></div><div class="line"><span class="keyword">int</span> Tank::getCount()&#123;</div><div class="line"><span class="comment">//    fire();//不能调用</span></div><div class="line">    <span class="keyword">return</span> s_iCount;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//int Tank::getCount()&#123;</span></div><div class="line"><span class="comment">//    return s_iCount;</span></div><div class="line"><span class="comment">//&#125;</span></div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//    Tank t1('a');</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    cout&lt;&lt;t1.getCount()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    cout&lt;&lt;Tank::getCount()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    Tank *t2=new Tank('b');</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    cout&lt;&lt;Tank::getCount()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    delete t2;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    cout&lt;&lt;Tank::getCount()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    Tank *t3=new Tank('c');</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    cout&lt;&lt;Tank::getCount()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    delete t3;</span></div><div class="line"><span class="comment">//    </span></div><div class="line"><span class="comment">//    cout&lt;&lt;Tank::getCount()&lt;&lt;endl;</span></div></pre></td></tr></table></figure>
<h1 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h1><p>给原有的运算符赋予新的功能。本质就是函数重载</p>
<h2 id="负号"><a href="#负号" class="headerlink" title="-负号"></a>-负号</h2><p>友元函数,成员函数两种方式</p>
<p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Coordinate &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//友元函数方式重载-</span></div><div class="line">    <span class="keyword">friend</span> Coordinate &amp;<span class="keyword">operator</span>-(Coordinate &amp;c);</div><div class="line">    </div><div class="line">    Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</div><div class="line">    </div><div class="line">    <span class="comment">//声明-(负号)运算符重载,成员函数重载</span></div><div class="line"><span class="comment">//    Coordinate &amp;operator-();</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line">Coordinate::Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</div><div class="line">    m_iX=x;</div><div class="line">    m_iY=y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getX()&#123;</div><div class="line">    <span class="keyword">return</span> m_iX;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getY()&#123;</div><div class="line">    <span class="keyword">return</span> m_iY;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//Coordinate &amp;Coordinate::operator-()&#123;</span></div><div class="line"><span class="comment">//    m_iX=-m_iX;</span></div><div class="line"><span class="comment">//    this-&gt;m_iY=-this-&gt;m_iY;</span></div><div class="line"><span class="comment">//    return *this;</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line">Coordinate &amp;<span class="keyword">operator</span>-(Coordinate &amp;c)&#123;</div><div class="line">    c.m_iX=-c.m_iX;</div><div class="line">    c.m_iY=-c.m_iY;</div><div class="line">    <span class="keyword">return</span> c;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">Coordinate <span class="title">coor</span><span class="params">(<span class="number">1</span>,<span class="number">3</span>)</span></span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;coor.getX()&lt;&lt;<span class="string">","</span>&lt;&lt;coor.getY()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//1,3</span></div><div class="line">-coor;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;coor.getX()&lt;&lt;<span class="string">","</span>&lt;&lt;coor.getY()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//-1,-3</span></div></pre></td></tr></table></figure>
<h2 id="重载"><a href="#重载" class="headerlink" title="++重载"></a>++重载</h2><p>包括前置,后置</p>
<p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Coordinate &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//友元函数方式重载-</span></div><div class="line">    <span class="keyword">friend</span> Coordinate &amp;<span class="keyword">operator</span>-(Coordinate &amp;c);</div><div class="line">    <span class="keyword">friend</span> Coordinate &amp;<span class="keyword">operator</span>++(Coordinate &amp;c);</div><div class="line">    </div><div class="line">    Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</div><div class="line">    </div><div class="line">    <span class="comment">//声明-(负号)运算符重载,成员函数重载</span></div><div class="line"><span class="comment">//    Coordinate &amp;operator-();</span></div><div class="line">    </div><div class="line">    <span class="comment">//前置++</span></div><div class="line"><span class="comment">//    Coordinate &amp;operator++();</span></div><div class="line">    </div><div class="line">    <span class="comment">//后置++</span></div><div class="line">    Coordinate <span class="keyword">operator</span>++(<span class="keyword">int</span>);</div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line">Coordinate::Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</div><div class="line">    m_iX=x;</div><div class="line">    m_iY=y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getX()&#123;</div><div class="line">    <span class="keyword">return</span> m_iX;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::getY()&#123;</div><div class="line">    <span class="keyword">return</span> m_iY;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//Coordinate &amp;Coordinate::operator-()&#123;</span></div><div class="line"><span class="comment">//    m_iX=-m_iX;</span></div><div class="line"><span class="comment">//    this-&gt;m_iY=-this-&gt;m_iY;</span></div><div class="line"><span class="comment">//    return *this;</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line">Coordinate &amp;<span class="keyword">operator</span>-(Coordinate &amp;c)&#123;</div><div class="line">    c.m_iX=-c.m_iX;</div><div class="line">    c.m_iY=-c.m_iY;</div><div class="line">    <span class="keyword">return</span> c;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Coordinate &amp;Coordinate::operator++()&#123;</span></div><div class="line"><span class="comment">//    m_iX++;</span></div><div class="line"><span class="comment">//    ++m_iY;</span></div><div class="line"><span class="comment">//    return *this;</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line">Coordinate &amp;<span class="keyword">operator</span>++(Coordinate &amp;c)&#123;</div><div class="line">    c.m_iX++;</div><div class="line">    c.m_iY++;</div><div class="line">    <span class="keyword">return</span> c;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Coordinate Coordinate::<span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;</div><div class="line">    </div><div class="line">    <span class="function">Coordinate <span class="title">old</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</div><div class="line"></div><div class="line">    <span class="keyword">this</span>-&gt;m_iX++;</div><div class="line">    <span class="keyword">this</span>-&gt;m_iY++;</div><div class="line">    <span class="keyword">return</span> old;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Coordinate.hpp"</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line">    </div><div class="line"><span class="function">Coordinate <span class="title">coor</span><span class="params">(<span class="number">1</span>,<span class="number">3</span>)</span></span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;coor.getX()&lt;&lt;<span class="string">","</span>&lt;&lt;coor.getY()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//1,3</span></div><div class="line">    </div><div class="line"><span class="comment">//-coor;</span></div><div class="line"><span class="comment">//cout&lt;&lt;coor.getX()&lt;&lt;","&lt;&lt;coor.getY()&lt;&lt;endl;</span></div><div class="line">    </div><div class="line"><span class="comment">//    ++coor;</span></div><div class="line"><span class="comment">//    cout&lt;&lt;coor.getX()&lt;&lt;","&lt;&lt;coor.getY()&lt;&lt;endl; //2,4</span></div><div class="line">    </div><div class="line">    <span class="built_in">cout</span>&lt;&lt;(coor++).getX()&lt;&lt;<span class="string">","</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;(coor++).getY()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//1,4</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;coor.getX()&lt;&lt;<span class="string">","</span>&lt;&lt;coor.getY()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//3,5</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="加号，cout-lt-lt-，"><a href="#加号，cout-lt-lt-，" class="headerlink" title="+加号，cout&lt;&lt;，[]"></a>+加号，cout&lt;&lt;，[]</h2><p>Coordinate.hpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Coordinate_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Coordinate_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Coordinate &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//友元函数方式重载-</span></div><div class="line">    <span class="keyword">friend</span> Coordinate &amp;<span class="keyword">operator</span>-(Coordinate &amp;c);</div><div class="line">    <span class="keyword">friend</span> Coordinate &amp;<span class="keyword">operator</span>++(Coordinate &amp;c);</div><div class="line">    <span class="keyword">friend</span> Coordinate <span class="keyword">operator</span>+(Coordinate c1,Coordinate c2);</div><div class="line">    <span class="comment">//输出函数，必须是友元函数</span></div><div class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;out,Coordinate &amp;c);</div><div class="line">    </div><div class="line">    Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</div><div class="line">    </div><div class="line">    <span class="comment">//声明-(负号)运算符重载,成员函数重载</span></div><div class="line"><span class="comment">//    Coordinate &amp;operator-();</span></div><div class="line">    </div><div class="line">    <span class="comment">//前置++</span></div><div class="line"><span class="comment">//    Coordinate &amp;operator++();</span></div><div class="line">    </div><div class="line">    <span class="comment">//后置++</span></div><div class="line">    Coordinate <span class="keyword">operator</span>++(<span class="keyword">int</span>);</div><div class="line">    </div><div class="line">    <span class="comment">//a+b</span></div><div class="line"><span class="comment">//    Coordinate operator+(Coordinate c);</span></div><div class="line">    </div><div class="line">    <span class="comment">//[]，索引负号</span></div><div class="line">    <span class="keyword">int</span> <span class="keyword">operator</span>[](<span class="keyword">int</span> index);</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> m_iX;</div><div class="line">    <span class="keyword">int</span> m_iY;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* Coordinate_hpp */</span></span></div></pre></td></tr></table></figure>
<p>Coordinate.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Coordinate <span class="keyword">operator</span>+(Coordinate c1,Coordinate c2)&#123;</div><div class="line">    <span class="function">Coordinate <span class="title">temp</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span></span>;</div><div class="line">        temp.m_iX=c1.m_iX+c2.m_iX;</div><div class="line">        temp.m_iY=c1.m_iY+c2.m_iY;</div><div class="line">        <span class="keyword">return</span> temp;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;out,Coordinate &amp;c)&#123;</div><div class="line">    out&lt;&lt;c.m_iX&lt;&lt;<span class="string">","</span>&lt;&lt;c.m_iY&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> out;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Coordinate::<span class="keyword">operator</span>[](<span class="keyword">int</span> index)&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="number">0</span>==index) &#123;</div><div class="line">        <span class="keyword">return</span> m_iX;</div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">1</span>==index)&#123;</div><div class="line">        <span class="keyword">return</span> m_iY;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">Coordinate coor(1,3);</div><div class="line">cout&lt;&lt;coor.getX()&lt;&lt;&quot;,&quot;&lt;&lt;coor.getY()&lt;&lt;endl; //1,3</div><div class="line"></div><div class="line">//-coor;</div><div class="line">//cout&lt;&lt;coor.getX()&lt;&lt;&quot;,&quot;&lt;&lt;coor.getY()&lt;&lt;endl;</div><div class="line"></div><div class="line">//    ++coor;</div><div class="line">//    cout&lt;&lt;coor.getX()&lt;&lt;&quot;,&quot;&lt;&lt;coor.getY()&lt;&lt;endl; //2,4</div><div class="line"></div><div class="line">//    cout&lt;&lt;(coor++).getX()&lt;&lt;&quot;,&quot;;</div><div class="line">//    cout&lt;&lt;(coor++).getY()&lt;&lt;endl; //1,4</div><div class="line">//    cout&lt;&lt;coor.getX()&lt;&lt;&quot;,&quot;&lt;&lt;coor.getY()&lt;&lt;endl; //3,5</div><div class="line"></div><div class="line"></div><div class="line">//a+b</div><div class="line">Coordinate coor1(2,4);</div><div class="line">Coordinate c3(0,0);</div><div class="line"></div><div class="line">c3=coor+coor1;</div><div class="line"></div><div class="line">//    cout&lt;&lt;c3.getX()&lt;&lt;&quot;,&quot;&lt;&lt;c3.getY()&lt;&lt;endl; //3,7</div><div class="line">cout&lt;&lt;c3&lt;&lt;endl;</div><div class="line"></div><div class="line">//[]</div><div class="line">cout&lt;&lt;c3[0]&lt;&lt;endl; //3</div><div class="line">cout&lt;&lt;c3[1]&lt;&lt;endl; //7</div><div class="line">cout&lt;&lt;c3[30]&lt;&lt;endl; //-1</div></pre></td></tr></table></figure>
<h1 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h1><p>将类型作为参数传递给函数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="comment">//函数模板 ，这里的class用typename也行</span></div><div class="line"><span class="function">T <span class="title">max</span><span class="params">(T a,T b)</span></span>&#123; </div><div class="line">	<span class="keyword">return</span> (a&gt;b)?a:b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> ival=max(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">//没有指定数据类型，这里自动用int实例化一个模板函数</span></div><div class="line"><span class="keyword">char</span> cval=max&lt;<span class="keyword">char</span>&gt;(<span class="string">'a'</span>,<span class="string">'b'</span>);<span class="comment">//指定了类型</span></div></pre></td></tr></table></figure>
<h2 id="函数模板"><a href="#函数模板" class="headerlink" title="函数模板"></a>函数模板</h2><h3 id="变量作为模板参数"><a href="#变量作为模板参数" class="headerlink" title="变量作为模板参数"></a>变量作为模板参数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">int</span> size&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;size&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">display&lt;<span class="number">10</span>&gt;();</div></pre></td></tr></table></figure>
<h3 id="多模板参数"><a href="#多模板参数" class="headerlink" title="多模板参数"></a>多模板参数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">typename</span> c&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(T a,C b)</span></span>&#123;</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> a=<span class="number">103</span>;</div><div class="line"><span class="built_in">string</span> str=<span class="string">"hello"</span>;</div><div class="line">display&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt;(a,str);</div></pre></td></tr></table></figure>
<p>typename和class可以混用。</p>
<p>下面定义了一些函数模板并使用它</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(T a)</span> </span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">class</span> S&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(T t,S s)</span> </span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;t&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;s&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">int</span> kSize&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(T a)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;kSize; i++) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</div><div class="line"><span class="comment">//    display(10);</span></div><div class="line"><span class="comment">//    display&lt;double&gt;(10.18);</span></div><div class="line"></div><div class="line"><span class="comment">//    display&lt;int,double&gt;(10, 20.4);</span></div><div class="line">    </div><div class="line">    display&lt;<span class="keyword">int</span>, <span class="number">4</span>&gt;(<span class="number">3</span>);</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="类模板"><a href="#类模板" class="headerlink" title="类模板"></a>类模板</h2><p>类内定义</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> MyArray&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>&#123;</div><div class="line">	...</div><div class="line">	&#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	T *m_pArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>类外定义</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;typname T&gt;</div><div class="line"><span class="keyword">void</span> MyArray&lt;T&gt;::display()&#123;</div><div class="line">	...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>实例化类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">MyArray&lt;<span class="keyword">int</span>&gt; arr;</div><div class="line">arr.display();</div></pre></td></tr></table></figure>
<p>注意：暂时模板的定义和声明必须在一个文件中，不能分离</p>
<p>这里我们定义一个MyArray</p>
<p>MyArray.hpp，实现也写道这里离了，所以没有cpp文件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MyArray_hpp</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MyArray_hpp</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">int</span> kSize,<span class="keyword">int</span> kVal&gt;</div><div class="line"><span class="keyword">class</span> MyArray &#123;</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MyArray();</div><div class="line">    ~MyArray()&#123;</div><div class="line">        <span class="keyword">delete</span> []m_pArr;</div><div class="line">        m_pArr=<span class="literal">NULL</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    T *m_pArr;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//实现</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">int</span> kSize,<span class="keyword">int</span> kVal&gt;</div><div class="line">MyArray&lt;T,kSize,kVal&gt;::MyArray()&#123;</div><div class="line">    m_pArr=<span class="keyword">new</span> T[kSize];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;kSize; i++) &#123;</div><div class="line">        m_pArr[i]=kVal;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">int</span> kSize,<span class="keyword">int</span> kVal&gt;</div><div class="line"><span class="keyword">void</span> MyArray&lt;T,kSize,kVal&gt;::display()&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;kSize; i++) &#123;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;m_pArr[i]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* MyArray_hpp */</span></span></div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">MyArray&lt;<span class="keyword">int</span>,<span class="number">4</span>,<span class="number">10</span>&gt; arr;</div><div class="line">arr.display(); <span class="comment">//打印4个10</span></div></pre></td></tr></table></figure>
<h1 id="标准模板库"><a href="#标准模板库" class="headerlink" title="标准模板库"></a>标准模板库</h1><p>STL:standard template lib</p>
<h2 id="vector向量"><a href="#vector向量" class="headerlink" title="vector向量"></a>vector向量</h2><p>对数组的封装</p>
<h3 id="初始化方法-1"><a href="#初始化方法-1" class="headerlink" title="初始化方法"></a>初始化方法</h3><table>
<thead>
<tr>
<th>vector<t> v1;</t></th>
<th>保存为T类型，v1默认为空</th>
</tr>
</thead>
<tbody>
<tr>
<td>vector<t> v2(v1);</t></td>
<td>v2是v1的副本</td>
</tr>
<tr>
<td>vector<t> v3(n,i);</t></td>
<td>v3包含n个值为i的元素</td>
</tr>
<tr>
<td>vector<t> v4(n);</t></td>
<td>v4包含有n个初始化元素</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>empty()</th>
<th>向量是否为空</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin()</td>
<td>返回迭代器首元素</td>
</tr>
<tr>
<td>end()</td>
<td>返回迭代器末尾元素的下一个元素</td>
</tr>
<tr>
<td>clear()</td>
<td>清空向量</td>
</tr>
<tr>
<td>front()</td>
<td>第一个元素</td>
</tr>
<tr>
<td>back()</td>
<td>最后一个元素</td>
</tr>
<tr>
<td>size()</td>
<td>获得向量中数据的个数</td>
</tr>
<tr>
<td>push_back(elem)</td>
<td>在末尾插入数据</td>
</tr>
<tr>
<td>pop_back()</td>
<td>在末尾删除数据</td>
</tr>
</tbody>
</table>
<h2 id="迭代器iterator"><a href="#迭代器iterator" class="headerlink" title="迭代器iterator"></a>迭代器iterator</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span> vec;</div><div class="line">vec.push_back(<span class="string">"aa"</span>);</div><div class="line">vec.push_back(<span class="string">"bb"</span>);</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;::iterator it=vec.begin();</div><div class="line"><span class="keyword">for</span>(;it!vec.end();it++)&#123;</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;*it&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</div><div class="line"></div><div class="line">vec.push_back(<span class="number">3</span>);</div><div class="line">vec.push_back(<span class="number">4</span>);</div><div class="line">vec.push_back(<span class="number">6</span>);</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//    cout&lt;&lt;vec.size()&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    vec.pop_back();</span></div><div class="line"><span class="comment">//    cout&lt;&lt;vec.size()&lt;&lt;endl;</span></div><div class="line"></div><div class="line"><span class="comment">//    for (int i=0; i&lt;vec.size(); i++) &#123;</span></div><div class="line"><span class="comment">//        cout&lt;&lt;vec[i]&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line"></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it=vec.begin();</div><div class="line"><span class="comment">//    cout&lt;&lt;*it&lt;&lt;endl;//3</span></div><div class="line"><span class="comment">//    for (; it!=vec.end(); it++) &#123;</span></div><div class="line"><span class="comment">//        cout&lt;&lt;*it&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;vec.front()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//3</span></div><div class="line"><span class="built_in">cout</span>&lt;&lt;vec.back()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//6</span></div></pre></td></tr></table></figure>
<h2 id="list链表"><a href="#list链表" class="headerlink" title="list链表"></a>list链表</h2><p>和vector使用差不多，插入山数据块</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l1;</div><div class="line">l1.push_back(<span class="number">1</span>);</div><div class="line">l1.push_back(<span class="number">10</span>);</div><div class="line">l1.push_back(<span class="number">20</span>);</div><div class="line"></div><div class="line"><span class="comment">//list不能使用[]</span></div><div class="line"><span class="comment">//    for (int i=0; i&lt;l1.size(); i++) &#123;</span></div><div class="line"><span class="comment">//        cout&lt;&lt;l1[i]&lt;&lt;endl;</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator it=l1.begin();</div><div class="line"><span class="keyword">for</span> (; it!=l1.end(); it++) &#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;*it&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="map映射"><a href="#map映射" class="headerlink" title="map映射"></a>map映射</h2><p>存储的数据成对，key-value</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt; m;</div><div class="line"></div><div class="line"><span class="comment">//定义一对</span></div><div class="line">pair&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt; p1(<span class="number">10</span>,<span class="string">"shanghai"</span>);</div><div class="line">pair&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt; p2(<span class="number">20</span>,<span class="string">"beijing"</span>);</div><div class="line"></div><div class="line">m.insert(p1);</div><div class="line">m.insert(p2);</div><div class="line"></div><div class="line"><span class="built_in">cout</span>&lt;&lt;m[<span class="number">10</span>]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;m[<span class="number">20</span>]&lt;&lt;<span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt; m;</div><div class="line">pair&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt; p1(<span class="number">3</span>,<span class="string">"hello"</span>);</div><div class="line">pair&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt; p2(<span class="number">5</span>,<span class="string">"a"</span>);</div><div class="line"></div><div class="line">m.insert(p1);</div><div class="line">m.insert(p2);</div><div class="line"></div><div class="line"><span class="comment">//    cout&lt;&lt;m[3]&lt;&lt;endl; //hello</span></div><div class="line"></div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="built_in">string</span>&gt;::iterator it=m.begin();</div><div class="line"><span class="keyword">for</span> (; it!=m.end(); it++) &#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;it-&gt;first&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//key</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;it-&gt;second&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//value</span></div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div>
      
        
<div id="wechat_subscriber" style="display: block； padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.jpg" alt="任苹蜻 wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>

      
    </div>

    <div>
      
        
<div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center">
  <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
  <button id="rewardButton", disable="enable", onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}", style="cursor: pointer; border: 0; outline: 0; border-radius: 100%; padding: 0; margin: 0; letter-spacing: normal; text-transform: none; text-indent: 0px; text-shadow: none">
    <span onmouseover="this.style.color='rgb(236,96,0)';this.style.background='rgb(204,204,204)'" onMouseOut="this.style.color='#fff';this.style.background='rgb(236,96,0)'" style="display: inline-block; width: 70px; height: 70px; border-radius: 100%; line-height: 81px; color: #fff; font: 400 35px/75px 'microsofty'; background: rgb(236,96,0)">赏</span>
  </button>
  <div id="QR" style="display: none;">
    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/uploads/wechat-reward-image.png" alt="任苹蜻 WeChat Pay" style="width: 200px; max-width: 100%; display: inline-block"/>
        <p>微信打赏</p>
      </div>
    
    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/uploads/alipay-reward-image.png" alt="任苹蜻 Alipay" style="width: 200px; max-width: 100%; display: inline-block"/>
        <p>支付宝打赏</p>
      </div>
    
  </div>
</div>

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/c/" rel="tag">#c++</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/08/android-logback/" rel="next" title="Android-logback">
                <i class="fa fa-chevron-left"></i> Android-logback
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/14/data-structure-line-table/" rel="prev" title="数据结构-线性表">
                数据结构-线性表 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2017/02/14/c++/"
     data-title="C++"
     data-content=""
     data-url="http://i.woblog.cn/2017/02/14/c++/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          

  <p>热评文章</p>
  <div class="ds-top-threads" data-range="weekly" data-num-items="4"></div>


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/02/14/c++/"
           data-title="C++" data-url="http://i.woblog.cn/2017/02/14/c++/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://tp4.sinaimg.cn/1662907603/180/5755316418/1"
               alt="任苹蜻" />
          <p class="site-author-name" itemprop="name">任苹蜻</p>
          <p class="site-description motion-element" itemprop="description">关注移动开发，大数据，云计算，软件架构（原博客：http://me.woblog.cn/）</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">62</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">86</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://www.weibo.com/renpingqing1993" target="_blank" title="Weibo">
                  
                    <i class="fa fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/lifengsofts/" target="_blank" title="GitHub">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/2cb78e578e43/latest_articles" target="_blank" title="Jianshu">
                  
                    <i class="fa fa-Jianshu"></i>
                  
                  Jianshu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element">
            <div class="links-of-blogroll-title">Links</div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://macshuo.com/" title="MacTalk" target="_blank">MacTalk</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://example.com/" title="Title" target="_blank">Title</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#应用场景"><span class="nav-number">1.1.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#特点"><span class="nav-number">1.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#c与c-关系"><span class="nav-number">1.3.</span> <span class="nav-text">c与c++关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HelloC"><span class="nav-number">1.4.</span> <span class="nav-text">HelloC++</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新特性"><span class="nav-number">2.</span> <span class="nav-text">新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#新增数据类型"><span class="nav-number">2.1.</span> <span class="nav-text">新增数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化方法"><span class="nav-number">2.2.</span> <span class="nav-text">初始化方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#c语言"><span class="nav-number">2.2.1.</span> <span class="nav-text">c语言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#c"><span class="nav-number">2.2.2.</span> <span class="nav-text">c++</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#随用随定义"><span class="nav-number">2.3.</span> <span class="nav-text">随用随定义</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#输入输出"><span class="nav-number">3.</span> <span class="nav-text">输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cout"><span class="nav-number">3.1.</span> <span class="nav-text">cout</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cin"><span class="nav-number">3.2.</span> <span class="nav-text">cin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#优势"><span class="nav-number">3.3.</span> <span class="nav-text">优势</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#练习"><span class="nav-number">3.4.</span> <span class="nav-text">练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#命名空间"><span class="nav-number">4.</span> <span class="nav-text">命名空间</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么要有名称空间"><span class="nav-number">4.1.</span> <span class="nav-text">为什么要有名称空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#练习：模拟c公司购买了a-b两家公司的软件"><span class="nav-number">4.2.</span> <span class="nav-text">练习：模拟c公司购买了a,b两家公司的软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#练习：最大值和最小值"><span class="nav-number">4.3.</span> <span class="nav-text">练习：最大值和最小值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#c-引用-别名"><span class="nav-number">5.</span> <span class="nav-text">c++引用(别名)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#基本类型"><span class="nav-number">5.1.</span> <span class="nav-text">基本类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结构体"><span class="nav-number">5.2.</span> <span class="nav-text">结构体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针"><span class="nav-number">5.3.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数"><span class="nav-number">5.4.</span> <span class="nav-text">函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#const"><span class="nav-number">6.</span> <span class="nav-text">const</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#基本类型-1"><span class="nav-number">6.1.</span> <span class="nav-text">基本类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针-1"><span class="nav-number">6.2.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#引用"><span class="nav-number">6.3.</span> <span class="nav-text">引用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数-1"><span class="nav-number">6.4.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常对象成员和常成员函数"><span class="nav-number">6.5.</span> <span class="nav-text">常对象成员和常成员函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象常指针和对象常引用"><span class="nav-number">6.6.</span> <span class="nav-text">对象常指针和对象常引用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数新特性"><span class="nav-number">7.</span> <span class="nav-text">函数新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数参数默认值"><span class="nav-number">7.1.</span> <span class="nav-text">函数参数默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数重载"><span class="nav-number">7.2.</span> <span class="nav-text">函数重载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内联函数"><span class="nav-number">7.3.</span> <span class="nav-text">内联函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内存管理"><span class="nav-number">8.</span> <span class="nav-text">内存管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#申请和是否内存运算符"><span class="nav-number">8.1.</span> <span class="nav-text">申请和是否内存运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实例：拷贝字符串"><span class="nav-number">8.2.</span> <span class="nav-text">实例：拷贝字符串</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类"><span class="nav-number">9.</span> <span class="nav-text">类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#定义类"><span class="nav-number">9.1.</span> <span class="nav-text">定义类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实例化对象"><span class="nav-number">9.2.</span> <span class="nav-text">实例化对象</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串"><span class="nav-number">10.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化方式"><span class="nav-number">10.1.</span> <span class="nav-text">初始化方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用函数"><span class="nav-number">10.2.</span> <span class="nav-text">常用函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实例：读取用户姓名"><span class="nav-number">10.3.</span> <span class="nav-text">实例：读取用户姓名</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#封装"><span class="nav-number">11.</span> <span class="nav-text">封装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类外定义"><span class="nav-number">12.</span> <span class="nav-text">类外定义</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内存分区"><span class="nav-number">13.</span> <span class="nav-text">内存分区</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#构造函数"><span class="nav-number">14.</span> <span class="nav-text">构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#构造函数初始化列表"><span class="nav-number">14.1.</span> <span class="nav-text">构造函数初始化列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#拷贝构造函数"><span class="nav-number">14.2.</span> <span class="nav-text">拷贝构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#浅拷贝"><span class="nav-number">14.2.1.</span> <span class="nav-text">浅拷贝</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#深拷贝"><span class="nav-number">14.2.2.</span> <span class="nav-text">深拷贝</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#析构函数"><span class="nav-number">15.</span> <span class="nav-text">析构函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象数组"><span class="nav-number">16.</span> <span class="nav-text">对象数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象成员"><span class="nav-number">17.</span> <span class="nav-text">对象成员</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象指针"><span class="nav-number">18.</span> <span class="nav-text">对象指针</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#成员对象指针"><span class="nav-number">18.1.</span> <span class="nav-text">成员对象指针</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#this指针"><span class="nav-number">19.</span> <span class="nav-text">this指针</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#继承"><span class="nav-number">20.</span> <span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是继承"><span class="nav-number">20.1.</span> <span class="nav-text">什么是继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承中构造函数和析构函数调用顺序"><span class="nav-number">20.2.</span> <span class="nav-text">继承中构造函数和析构函数调用顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承方式"><span class="nav-number">20.3.</span> <span class="nav-text">继承方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#共有继承"><span class="nav-number">20.3.1.</span> <span class="nav-text">共有继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#保护继承"><span class="nav-number">20.3.2.</span> <span class="nav-text">保护继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#私有继承"><span class="nav-number">20.3.3.</span> <span class="nav-text">私有继承</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#隐藏"><span class="nav-number">20.4.</span> <span class="nav-text">隐藏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多重集成"><span class="nav-number">20.5.</span> <span class="nav-text">多重集成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多继承"><span class="nav-number">20.6.</span> <span class="nav-text">多继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚继承"><span class="nav-number">20.7.</span> <span class="nav-text">虚继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#宏定义"><span class="nav-number">20.7.1.</span> <span class="nav-text">宏定义</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#多态"><span class="nav-number">21.</span> <span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#静态多态-早绑定"><span class="nav-number">21.1.</span> <span class="nav-text">静态多态(早绑定)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#动态多态-晚绑定"><span class="nav-number">21.2.</span> <span class="nav-text">动态多态(晚绑定)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#virtual使用限制"><span class="nav-number">21.3.</span> <span class="nav-text">virtual使用限制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚析构函数"><span class="nav-number">21.4.</span> <span class="nav-text">虚析构函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象类"><span class="nav-number">21.5.</span> <span class="nav-text">抽象类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#接口类"><span class="nav-number">21.6.</span> <span class="nav-text">接口类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RTTI-运行时类型识别"><span class="nav-number">22.</span> <span class="nav-text">RTTI(运行时类型识别)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#typeid"><span class="nav-number">22.1.</span> <span class="nav-text">typeid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dynamic-cast"><span class="nav-number">22.2.</span> <span class="nav-text">dynamic_cast</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常"><span class="nav-number">23.</span> <span class="nav-text">异常</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#友元"><span class="nav-number">24.</span> <span class="nav-text">友元</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#友元函数"><span class="nav-number">24.1.</span> <span class="nav-text">友元函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#友元全局函数"><span class="nav-number">24.1.1.</span> <span class="nav-text">友元全局函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#友元成员函数"><span class="nav-number">24.1.2.</span> <span class="nav-text">友元成员函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#友元类"><span class="nav-number">24.2.</span> <span class="nav-text">友元类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#静态"><span class="nav-number">25.</span> <span class="nav-text">静态</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#静态数据成员"><span class="nav-number">25.1.</span> <span class="nav-text">静态数据成员</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#静态成员函数"><span class="nav-number">25.2.</span> <span class="nav-text">静态成员函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#运算符重载"><span class="nav-number">26.</span> <span class="nav-text">运算符重载</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#负号"><span class="nav-number">26.1.</span> <span class="nav-text">-负号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重载"><span class="nav-number">26.2.</span> <span class="nav-text">++重载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#加号，cout-lt-lt-，"><span class="nav-number">26.3.</span> <span class="nav-text">+加号，cout<<，[]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模板"><span class="nav-number">27.</span> <span class="nav-text">模板</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数模板"><span class="nav-number">27.1.</span> <span class="nav-text">函数模板</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#变量作为模板参数"><span class="nav-number">27.1.1.</span> <span class="nav-text">变量作为模板参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多模板参数"><span class="nav-number">27.1.2.</span> <span class="nav-text">多模板参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类模板"><span class="nav-number">27.2.</span> <span class="nav-text">类模板</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标准模板库"><span class="nav-number">28.</span> <span class="nav-text">标准模板库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#vector向量"><span class="nav-number">28.1.</span> <span class="nav-text">vector向量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#初始化方法-1"><span class="nav-number">28.1.1.</span> <span class="nav-text">初始化方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代器iterator"><span class="nav-number">28.2.</span> <span class="nav-text">迭代器iterator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#list链表"><span class="nav-number">28.3.</span> <span class="nav-text">list链表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map映射"><span class="nav-number">28.4.</span> <span class="nav-text">map映射</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">任苹蜻</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"iwoblog"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  

  

</body>
</html>
